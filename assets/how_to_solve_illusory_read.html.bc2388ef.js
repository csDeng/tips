import{_ as n,r,o as p,c as a,b as t,a as o,F as _,d as e,e as i}from"./app.2a7ffa2e.js";var c="/assets/1.b5bf4db3.png",d="/assets/7f9df142b3594daeaaca495abb7133f5.4f10ab13.png",l="/assets/2.d896cb0a.png",h="/assets/3.2bbf4038.png",m="/assets/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5bCP5p6XY29kaW5n,size_20,color_FFFFFF,t_70,g_se,x_16-165225956370429.e28b558a.png";const g={},u=t("h1",{id:"\u5E7B\u8BFB\u662F\u600E\u4E48\u88AB\u89E3\u51B3\u7684",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#\u5E7B\u8BFB\u662F\u600E\u4E48\u88AB\u89E3\u51B3\u7684","aria-hidden":"true"},"#"),e(" \u5E7B\u8BFB\u662F\u600E\u4E48\u88AB\u89E3\u51B3\u7684\uFF1F")],-1),f=e("\u6211\u4E4B\u524D\u5199\u8FC7\u4E00\u7BC7\u6570\u636E\u5E93\u4E8B\u52A1\u7684\u6587\u7AE0\u300C "),b={href:"https://mp.weixin.qq.com/s/sCgIWj0HjMgUqVIHwLXduQ",target:"_blank",rel:"noopener noreferrer"},w=e("\u4E8B\u52A1\u3001\u4E8B\u52A1\u9694\u79BB\u7EA7\u522B\u548CMVCC (opens new window)"),x=e("\u300D\uFF0C\u8FD9\u7BC7\u6211\u8BF4\u8FC7\u4EC0\u4E48\u662F\u5E7B\u8BFB\u3002"),k=i('<p><img src="'+c+'" alt="\u5728\u8FD9\u91CC\u63D2\u5165\u56FE\u7247\u63CF\u8FF0"></p><p>\u7136\u540E\u524D\u51E0\u5929\u6709\u4F4D\u8BFB\u8005\u8DDF\u6211\u8BF4\uFF0C\u6211\u8FD9\u4E2A\u5E7B\u8BFB\u4F8B\u5B50\u4E0D\u662F\u5DF2\u7ECF\u88AB\u300C\u53EF\u91CD\u590D\u8BFB\u300D\u9694\u79BB\u7EA7\u522B\u89E3\u51B3\u4E86\u5417\uFF1F\u4E3A\u4EC0\u4E48\u8FD8\u8981\u6709 next-key \u5462\uFF1F</p><p>\u4ED6\u6709\u8FD9\u4E2A\u8D28\u7591\uFF0C\u662F\u56E0\u4E3A\u4ED6\u505A\u4E86\u8FD9\u4E2A\u5B9E\u9A8C\u3002</p><p>\u5B9E\u9A8C\u7684\u6570\u636E\u5E93\u8868 t_stu \u5982\u4E0B\uFF0C\u5176\u4E2D id \u4E3A\u4E3B\u952E\u3002</p><p><img src="'+d+'" alt="\u5728\u8FD9\u91CC\u63D2\u5165\u56FE\u7247\u63CF\u8FF0"></p><p>\u7136\u540E\u5728\u53EF\u91CD\u590D\u8BFB\u9694\u79BB\u7EA7\u522B\u4E0B\uFF0C\u6709\u4E24\u4E2A\u4E8B\u52A1\u7684\u6267\u884C\u987A\u5E8F\u5982\u4E0B\uFF1A</p><p><img src="'+l+'" alt="\u5728\u8FD9\u91CC\u63D2\u5165\u56FE\u7247\u63CF\u8FF0"></p><p>\u4ECE\u8FD9\u4E2A\u5B9E\u9A8C\u7ED3\u679C\u53EF\u4EE5\u770B\u5230\uFF0C\u5373\u4F7F\u4E8B\u52A1 B \u4E2D\u9014\u63D2\u5165\u4E86\u4E00\u6761\u8BB0\u5F55\uFF0C\u4E8B\u52A1 A \u524D\u540E\u4E24\u6B21\u67E5\u8BE2\u7684\u7ED3\u679C\u96C6\u90FD\u662F\u4E00\u6837\u7684\uFF0C\u5E76\u6CA1\u6709\u51FA\u73B0\u6240\u8C13\u7684\u5E7B\u8BFB\u73B0\u8C61\u3002</p><p>\u8BFB\u8005\u505A\u7684\u5B9E\u9A8C\u4E4B\u6240\u4EE5\u770B\u4E0D\u5230\u5E7B\u8BFB\u73B0\u8C61\uFF0C\u662F\u56E0\u4E3A\u5728\u53EF\u91CD\u590D\u8BFB\u9694\u79BB\u7EA7\u522B\u4E0B\uFF0C<strong>\u666E\u901A\u7684\u67E5\u8BE2\u662F\u5FEB\u7167\u8BFB\uFF0C\u662F\u4E0D\u4F1A\u770B\u5230\u522B\u7684\u4E8B\u52A1\u63D2\u5165\u7684\u6570\u636E\u7684</strong>\u3002</p><p>\u53EF\u91CD\u590D\u8BFB\u9694\u79BB\u7EA7\u662F\u7531 MVCC\uFF08\u591A\u7248\u672C\u5E76\u53D1\u63A7\u5236\uFF09\u5B9E\u73B0\u7684\uFF0C\u5B9E\u73B0\u7684\u65B9\u5F0F\u662F\u542F\u52A8\u4E8B\u52A1\u540E\uFF0C\u5728\u6267\u884C\u7B2C\u4E00\u4E2A\u67E5\u8BE2\u8BED\u53E5\u540E\uFF0C\u4F1A\u521B\u5EFA\u4E00\u4E2A\u89C6\u56FE\uFF0C\u7136\u540E\u540E\u7EED\u7684\u67E5\u8BE2\u8BED\u53E5\u90FD\u7528\u8FD9\u4E2A\u89C6\u56FE\uFF0C\u300C\u5FEB\u7167\u8BFB\u300D\u8BFB\u7684\u5C31\u662F\u8FD9\u4E2A\u89C6\u56FE\u7684\u6570\u636E\uFF0C\u89C6\u56FE\u4F60\u53EF\u4EE5\u7406\u89E3\u4E3A\u7248\u672C\u6570\u636E\uFF0C\u8FD9\u6837\u5C31\u4F7F\u5F97\u6BCF\u6B21\u67E5\u8BE2\u7684\u6570\u636E\u90FD\u662F\u4E00\u6837\u7684\u3002</p><p>MySQL \u91CC\u9664\u4E86\u666E\u901A\u67E5\u8BE2\u662F\u5FEB\u7167\u8BFB\uFF0C\u5176\u4ED6\u90FD\u662F<strong>\u5F53\u524D\u8BFB</strong>\uFF0C\u6BD4\u5982update\u3001insert\u3001delete\uFF0C\u8FD9\u4E9B\u8BED\u53E5\u6267\u884C\u524D\u90FD\u4F1A\u67E5\u8BE2\u6700\u65B0\u7248\u672C\u7684\u6570\u636E\uFF0C\u7136\u540E\u518D\u505A\u8FDB\u4E00\u6B65\u7684\u64CD\u4F5C\u3002</p><p>\u8FD9\u5F88\u597D\u7406\u89E3\uFF0C\u5047\u8BBE\u4F60\u8981 update \u4E00\u4E2A\u8BB0\u5F55\uFF0C\u53E6\u4E00\u4E2A\u4E8B\u52A1\u5DF2\u7ECF delete \u8FD9\u6761\u8BB0\u5F55\u5E76\u4E14 \u63D0\u4EA4\u4E8B\u52A1\u4E86\uFF0C\u8FD9\u6837\u4E0D\u662F\u4F1A\u4EA7\u751F\u51B2\u7A81\u5417\uFF0C\u6240\u4EE5 update \u7684\u65F6\u5019\u80AF\u5B9A\u8981\u77E5\u9053\u6700\u65B0\u7684\u6570\u636E\u3002</p><p>\u53E6\u5916\uFF0C<code>select ... for update</code> \u8FD9\u79CD\u67E5\u8BE2\u8BED\u53E5\u662F\u5F53\u524D\u8BFB\uFF0C\u6BCF\u6B21\u6267\u884C\u7684\u65F6\u5019\u90FD\u662F\u8BFB\u53D6\u6700\u65B0\u7684\u6570\u636E\u3002</p><p><strong>\u56E0\u6B64\uFF0C\u8981\u8BA8\u8BBA\u300C\u53EF\u91CD\u590D\u8BFB\u300D\u9694\u79BB\u7EA7\u522B\u7684\u5E7B\u8BFB\u73B0\u8C61\uFF0C\u662F\u8981\u5EFA\u7ACB\u5728\u300C\u5F53\u524D\u8BFB\u300D\u7684\u60C5\u51B5\u4E0B\u3002</strong></p><p>\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u5047\u8BBE<code>select ... for update</code>\u5F53\u524D\u8BFB\u662F\u4E0D\u4F1A\u52A0\u9501\u7684\uFF08\u5B9E\u9645\u4E0A\u662F\u4F1A\u52A0\u9501\u7684\uFF09\uFF0C\u5728\u505A\u4E00\u904D\u8BFB\u8005\u90A3\u4E2A\u5B9E\u9A8C\u3002</p><p><img src="'+h+'" alt="img"></p><p>\u8FD9\u65F6\u5019\uFF0C\u4E8B\u52A1 B \u63D2\u5165\u7684\u8BB0\u5F55\uFF0C\u5C31\u4F1A\u88AB\u4E8B\u52A1 A \u7684\u7B2C\u4E8C\u6761\u67E5\u8BE2\u8BED\u53E5\u67E5\u8BE2\u5230\uFF08\u56E0\u4E3A\u662F\u5F53\u524D\u8BFB\uFF09\uFF0C\u8FD9\u6837\u5C31\u4F1A\u51FA\u73B0\u524D\u540E\u4E24\u6B21\u67E5\u8BE2\u7684\u7ED3\u679C\u96C6\u5408\u4E0D\u4E00\u6837\uFF0C\u8FD9\u5C31\u51FA\u73B0\u4E86\u5E7B\u8BFB\u3002</p><p>\u6240\u4EE5\uFF0C<strong>Innodb \u5F15\u64CE\u4E3A\u4E86\u89E3\u51B3\u300C\u53EF\u91CD\u590D\u8BFB\u300D\u9694\u79BB\u7EA7\u522B\u4F7F\u7528\u300C\u5F53\u524D\u8BFB\u300D\u800C\u9020\u6210\u7684\u5E7B\u8BFB\u95EE\u9898\uFF0C\u5C31\u5F15\u51FA\u4E86 next-key \u9501</strong>\uFF0C\u5C31\u662F\u8BB0\u5F55\u9501\u548C\u95F4\u9699\u9501\u7684\u7EC4\u5408\u3002</p><ul><li>\u8BB0\u5F55\u9501\uFF0C\u9501\u7684\u662F\u8BB0\u5F55\u672C\u8EAB\uFF1B</li><li>\u95F4\u9699\u9501\uFF0C\u9501\u7684\u5C31\u662F\u4E24\u4E2A\u503C\u4E4B\u95F4\u7684\u7A7A\u9699\uFF0C\u4EE5\u9632\u6B62\u5176\u4ED6\u4E8B\u52A1\u5728\u8FD9\u4E2A\u7A7A\u9699\u95F4\u63D2\u5165\u65B0\u7684\u6570\u636E\uFF0C\u4ECE\u800C\u907F\u514D\u5E7B\u8BFB\u73B0\u8C61\u3002</li></ul><p>\u6BD4\u5982\uFF0C\u6267\u884C\u8FD9\u6761\u8BED\u53E5\u7684\u65F6\u5019\uFF0C\u4F1A\u9501\u4F4F\uFF0C\u7136\u540E\u671F\u95F4\u5982\u679C\u6709\u5176\u4ED6\u4E8B\u52A1\u5728\u8FD9\u4E2A\u9501\u4F4F\u7684\u8303\u56F4\u63D2\u5165\u6570\u636E\u5C31\u4F1A\u88AB\u963B\u585E\u3002</p><p><img src="'+m+'" alt="img"></p>',21),v=e("next-key \u9501\u7684\u52A0\u9501\u89C4\u5219\u5176\u5B9E\u633A\u590D\u6742\u7684\uFF0C\u5728\u4E00\u4E9B\u573A\u666F\u4E0B\u4F1A\u9000\u5316\u6210\u8BB0\u5F55\u9501\u6216\u95F4\u9699\u9501\uFF0C\u6211\u4E4B\u524D\u4E5F\u5199\u4E00\u7BC7\u52A0\u9501\u89C4\u5219\uFF0C\u8BE6\u7EC6\u53EF\u4EE5\u770B\u8FD9\u7BC7\u300C"),F={href:"https://mp.weixin.qq.com/s/i5QWx3QPZNkV51ghFbtXCw",target:"_blank",rel:"noopener noreferrer"},C=e("\u6211\u505A\u4E86\u4E00\u5929\u7684\u5B9E\u9A8C\uFF01 (opens new window)"),y=e("\u300D"),V=t("p",null,"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0Cnext-key lock \u9501\u7684\u662F\u7D22\u5F15\uFF0C\u800C\u4E0D\u662F\u6570\u636E\u672C\u8EAB\uFF0C\u6240\u4EE5\u5982\u679C update \u8BED\u53E5\u7684 where \u6761\u4EF6\u6CA1\u6709\u7528\u5230\u7D22\u5F15\u5217\uFF0C\u90A3\u4E48\u5C31\u4F1A\u5168\u8868\u626B\u63CF\uFF0C\u5728\u4E00\u884C\u884C\u626B\u63CF\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u4E0D\u4EC5\u7ED9\u884C\u52A0\u4E0A\u4E86\u884C\u9501\uFF0C\u8FD8\u7ED9\u884C\u4E24\u8FB9\u7684\u7A7A\u9699\u4E5F\u52A0\u4E0A\u4E86\u95F4\u9699\u9501\uFF0C\u76F8\u5F53\u4E8E\u9501\u4F4F\u6574\u4E2A\u8868\uFF0C\u7136\u540E\u76F4\u5230\u4E8B\u52A1\u7ED3\u675F\u624D\u4F1A\u91CA\u653E\u9501\u3002",-1),q=e("\u6240\u4EE5\u5728\u7EBF\u4E0A\u5343\u4E07\u4E0D\u8981\u6267\u884C\u6CA1\u6709\u5E26\u7D22\u5F15\u7684 update \u8BED\u53E5\uFF0C\u4E0D\u7136\u4F1A\u9020\u6210\u4E1A\u52A1\u505C\u6EDE\uFF0C\u6211\u6709\u4E2A\u8BFB\u8005\u5C31\u56E0\u4E3A\u5E72\u4E86\u8FD9\u4E2A\u4E8B\u60C5\uFF0C\u7136\u540E\u88AB\u8001\u677F\u6559\u80B2\u4E86\u4E00\u6CE2\uFF0C\u8BE6\u7EC6\u53EF\u4EE5\u770B\u8FD9\u7BC7\u300C"),B={href:"https://mp.weixin.qq.com/s/9R8ChusahrJvLGmUvHWBgA",target:"_blank",rel:"noopener noreferrer"},N=e("\u5B8C\u86CB\uFF0C\u516C\u53F8\u88AB\u4E00\u6761 update \u8BED\u53E5\u5E72\u8DB4\u4E86\uFF01 (opens new window)"),W=e("\u300D");function I(L,Q){const s=r("ExternalLinkIcon");return p(),a(_,null,[u,t("p",null,[f,t("a",b,[w,o(s)]),x]),k,t("p",null,[v,t("a",F,[C,o(s)]),y]),V,t("p",null,[q,t("a",B,[N,o(s)]),W])],64)}var E=n(g,[["render",I],["__file","how_to_solve_illusory_read.html.vue"]]);export{E as default};
