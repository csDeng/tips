import{_ as u,r as p,o as i,c as r,b as n,a,w as e,F as k,d as s,e as c}from"./app.2a7ffa2e.js";var b="/assets/image-20220426232344710.8c9489f4.png",m="/assets/websocket.ffcf3221.png",d="/assets/heartbeat.drawio.8c4b6643.png";const g={},h=n("h1",{id:"websocket-\u7F16\u7A0B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#websocket-\u7F16\u7A0B","aria-hidden":"true"},"#"),s(" Websocket \u7F16\u7A0B")],-1),_={class:"custom-container tip"},w=n("p",{class:"custom-container-title"},"\u672C\u7AE0\u4E3B\u8981\u53C2\u8003",-1),y={href:"https://zh.wikipedia.org/wiki/WebSocket",target:"_blank",rel:"noopener noreferrer"},f=s("WebSocket - \u7EF4\u57FA\u767E\u79D1\uFF0C\u81EA\u7531\u7684\u767E\u79D1\u5168\u4E66 (wikipedia.org)"),v={href:"https://www.topgoer.com/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/WebSocket%E7%BC%96%E7%A8%8B.html",target:"_blank",rel:"noopener noreferrer"},E=s("WebSocket\u7F16\u7A0B \xB7 Go\u8BED\u8A00\u4E2D\u6587\u6587\u6863 (topgoer.com)"),x={href:"https://zhuanlan.zhihu.com/p/100770431",target:"_blank",rel:"noopener noreferrer"},T=s("GO\u5B9E\u73B0\u5343\u4E07\u7EA7WebSocket\u6D88\u606F\u63A8\u9001\u670D\u52A1\u6280\u672F\u5206\u6790 - \u77E5\u4E4E (zhihu.com)"),C={href:"https://cloud.tencent.com/developer/article/1835078",target:"_blank",rel:"noopener noreferrer"},S=s("websocket - \u4E91+\u793E\u533A - \u817E\u8BAF\u4E91 (tencent.com)"),B=n("h2",{id:"\u662F\u4EC0\u4E48",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u662F\u4EC0\u4E48","aria-hidden":"true"},"#"),s(" \u662F\u4EC0\u4E48")],-1),A=n("ol",null,[n("li",null,[n("p",null,"WebSocket\u662F\u4E00\u79CD\u5728\u5355\u4E2ATCP\u8FDE\u63A5\u4E0A\u8FDB\u884C\u5168\u53CC\u5DE5\u901A\u4FE1\u7684\u534F\u8BAE")]),n("li",null,[n("p",null,"WebSocket\u4F7F\u5F97\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u4E4B\u95F4\u7684\u6570\u636E\u4EA4\u6362\u53D8\u5F97\u66F4\u52A0\u7B80\u5355\uFF0C\u5141\u8BB8\u670D\u52A1\u7AEF\u4E3B\u52A8\u5411\u5BA2\u6237\u7AEF\u63A8\u9001\u6570\u636E")]),n("li",null,[n("p",null,"\u5728WebSocket API\u4E2D\uFF0C\u6D4F\u89C8\u5668\u548C\u670D\u52A1\u5668\u53EA\u9700\u8981\u5B8C\u6210\u4E00\u6B21\u63E1\u624B\uFF0C\u4E24\u8005\u4E4B\u95F4\u5C31\u76F4\u63A5\u53EF\u4EE5\u521B\u5EFA\u6301\u4E45\u6027\u7684\u8FDE\u63A5\uFF0C\u5E76\u8FDB\u884C\u53CC\u5411\u6570\u636E\u4F20\u8F93")])],-1),M=n("h2",{id:"\u51FA\u73B0\u7684\u80CC\u666F",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u51FA\u73B0\u7684\u80CC\u666F","aria-hidden":"true"},"#"),s(" \u51FA\u73B0\u7684\u80CC\u666F")],-1),j={class:"custom-container details"},q=s("\u65E9\u671F\uFF0C\u5F88\u591A\u7F51\u7AD9\u4E3A\u4E86\u5B9E\u73B0"),W={href:"https://zh.wikipedia.org/wiki/%E6%8E%A8%E9%80%81%E6%8A%80%E6%9C%AF",target:"_blank",rel:"noopener noreferrer"},P=s("\u63A8\u9001\u6280\u672F"),H=s("\uFF0C\u6240\u7528\u7684\u6280\u672F\u90FD\u662F"),U={href:"https://zh.wikipedia.org/wiki/%E8%BC%AA%E8%A9%A2",target:"_blank",rel:"noopener noreferrer"},L=s("\u8F6E\u8BE2"),O=s("\u3002\u8F6E\u8BE2\u662F\u6307\u7531\u6D4F\u89C8\u5668\u6BCF\u9694\u4E00\u6BB5\u65F6\u95F4\uFF08\u5982\u6BCF\u79D2\uFF09\u5411\u670D\u52A1\u5668\u53D1\u51FAHTTP\u8BF7\u6C42\uFF0C\u7136\u540E\u670D\u52A1\u5668\u8FD4\u56DE\u6700\u65B0\u7684\u6570\u636E\u7ED9\u5BA2\u6237\u7AEF\u3002\u8FD9\u79CD\u4F20\u7EDF\u7684\u6A21\u5F0F\u5E26\u6765\u5F88\u660E\u663E\u7684\u7F3A\u70B9\uFF0C\u5373\u6D4F\u89C8\u5668\u9700\u8981\u4E0D\u65AD\u7684\u5411\u670D\u52A1\u5668\u53D1\u51FA\u8BF7\u6C42\uFF0C\u7136\u800CHTTP\u8BF7\u6C42\u4E0E\u56DE\u590D\u53EF\u80FD\u4F1A\u5305\u542B\u8F83\u957F\u7684"),z={href:"https://zh.wikipedia.org/wiki/HTTP%E5%A4%B4%E5%AD%97%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"},I=s("\u5934\u90E8"),R=s("\uFF0C\u5176\u4E2D\u771F\u6B63\u6709\u6548\u7684\u6570\u636E\u53EF\u80FD\u53EA\u662F\u5F88\u5C0F\u7684\u4E00\u90E8\u5206\uFF0C\u6240\u4EE5\u8FD9\u6837\u4F1A\u6D88\u8017\u5F88\u591A\u5E26\u5BBD\u8D44\u6E90\u3002"),F=s("\u6BD4\u8F83\u65B0\u7684\u8F6E\u8BE2\u6280\u672F\u662F"),N={href:"https://zh.wikipedia.org/wiki/Comet_(web%E6%8A%80%E6%9C%AF)",target:"_blank",rel:"noopener noreferrer"},D=s("Comet"),G=s("\u3002\u8FD9\u79CD\u6280\u672F\u867D\u7136\u53EF\u4EE5\u5B9E\u73B0\u53CC\u5411\u901A\u4FE1\uFF0C\u4F46\u4ECD\u7136\u9700\u8981\u53CD\u590D\u53D1\u51FA\u8BF7\u6C42\u3002\u800C\u4E14\u5728Comet\u4E2D\u666E\u904D\u91C7\u7528\u7684"),K={href:"https://zh.wikipedia.org/wiki/HTTP%E6%8C%81%E4%B9%85%E9%93%BE%E6%8E%A5",target:"_blank",rel:"noopener noreferrer"},V=s("HTTP\u957F\u8FDE\u63A5"),J=s("\u4E5F\u4F1A\u6D88\u8017\u670D\u52A1\u5668\u8D44\u6E90\u3002"),Y=s("\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C"),Z={href:"https://zh.wikipedia.org/wiki/HTML5",target:"_blank",rel:"noopener noreferrer"},Q=s("HTML5"),X=s("\u5B9A\u4E49\u4E86WebSocket\u534F\u8BAE\uFF0C\u80FD\u66F4\u597D\u7684\u8282\u7701\u670D\u52A1\u5668\u8D44\u6E90\u548C\u5E26\u5BBD\uFF0C\u5E76\u4E14\u80FD\u591F\u66F4\u5B9E\u65F6\u5730\u8FDB\u884C\u901A\u8BAF\u3002"),$=s("Websocket\u4F7F\u7528"),nn=n("code",null,"ws",-1),sn=s("\u6216"),an=n("code",null,"wss",-1),tn=s("\u7684"),en={href:"https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E6%A0%87%E5%BF%97%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"},on=s("\u7EDF\u4E00\u8D44\u6E90\u6807\u5FD7\u7B26"),cn=s("\uFF08URI\uFF09\u3002\u5176\u4E2D"),pn=n("code",null,"wss",-1),ln=s("\u8868\u793A\u4F7F\u7528\u4E86"),un={href:"https://zh.wikipedia.org/wiki/TLS",target:"_blank",rel:"noopener noreferrer"},rn=s("TLS"),kn=s("\u7684Websocket\u3002\u5982\uFF1A"),bn=c(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ws://example.com/wsapi
wss://secure.example.com/wsapi
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,1),mn=s("Websocket\u4E0EHTTP\u548CHTTPS\u4F7F\u7528\u76F8\u540C\u7684TCP"),dn={href:"https://zh.wikipedia.org/wiki/TCP/UDP%E7%AB%AF%E5%8F%A3%E5%88%97%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},gn=s("\u7AEF\u53E3"),hn=s("\uFF0C\u53EF\u4EE5\u7ED5\u8FC7\u5927\u591A\u6570"),_n={href:"https://zh.wikipedia.org/wiki/%E9%98%B2%E7%81%AB%E5%A2%99",target:"_blank",rel:"noopener noreferrer"},wn=s("\u9632\u706B\u5899"),yn=s("\u7684\u9650\u5236\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CWebsocket\u534F\u8BAE\u4F7F\u752880\u7AEF\u53E3\uFF1B\u8FD0\u884C\u5728TLS\u4E4B\u4E0A\u65F6\uFF0C\u9ED8\u8BA4\u4F7F\u7528443\u7AEF\u53E3\u3002"),fn=c('<h2 id="\u4E3B\u8981\u5E94\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#\u4E3B\u8981\u5E94\u7528\u573A\u666F" aria-hidden="true">#</a> \u4E3B\u8981\u5E94\u7528\u573A\u666F</h2><p><code>websocket</code>\u4E3B\u8981\u5E94\u7528\u4E8E\u524D\u7AEF\u9875\u9762\u5B9E\u65F6\u5237\u65B0\u7684\u573A\u666F\uFF0C\u6BD4\u5982\u8BF4\u804A\u5929\u5BA4\uFF0C\u89C6\u9891\u76F4\u64AD\uFF0C\u5B9E\u4F53\u8F68\u8FF9\u7B49\u7B49\u3002</p><p>\u800C\u5728<code>websocket</code>\u51FA\u73B0\u4E4B\u524D\uFF0C\u5982\u679C\u60F3\u8981\u5B9E\u65F6\u5237\u65B0\uFF0C\u4E00\u822C\u662F\u901A\u8FC7\u524D\u7AEF\u4E0D\u505C\u5730\u8F6E\u8BE2\u540E\u7AEF\u63A5\u53E3\uFF0C\u4EE5\u83B7\u53D6\u5B9E\u65F6\u6570\u636E\u3002</p><p>\u8FD9\u6837\u7684\u5F62\u5F0F\u6709\u4EC0\u4E48\u95EE\u9898\u5462\uFF1F</p><blockquote><p>\u8BBE\u60F3\u540E\u7AEF\u662F\u4E00\u4E2A\u4E8B\u4EF6\u89E6\u53D1\u578B\u670D\u52A1\uFF0C\u4E5F\u5C31\u662F\u8BF4\u5B83\u7684\u6570\u636E\u53EA\u4F1A\u5728\u67D0\u4E00\u4E2A\u4E8B\u4EF6\u89E6\u53D1\u4E4B\u540E\u624D\u4F1A\u53D1\u751F\u53D8\u5316\uFF0C\u6B64\u65F6\u524D\u7AEF\u5728\u4E00\u76F4\u8F6E\u8BE2\u7684\u8FC7\u7A0B\uFF0C\u5C06\u4F1A\u83B7\u5F97\u5927\u91CF\u76F8\u540C\u7684\u6570\u636E\u5305\u4E5F\u5C31\u662F\u65E0\u6548\u5305\uFF0C\u5BFC\u81F4\u4E86\u5927\u91CF\u7684\u8D44\u6E90\u635F\u8017\u3002</p></blockquote><p>\u4E3A\u4E86\u89E3\u51B3\u7C7B\u4F3C\u95EE\u9898\uFF0C<code>websocket</code>\u5E94\u8FD0\u800C\u751F\uFF0C\u5B83\u5141\u8BB8\u540E\u7AEF\u901A\u8FC7\u8FDE\u63A5\u4E3B\u52A8\u5411\u524D\u7AEF\u63A8\u9001\u6570\u636E\uFF0C\u524D\u7AEF\u4E0D\u518D\u9700\u8981\u5927\u91CF\u7684\u8F6E\u8BE2\uFF0C\u53EA\u9700\u8981\u7EF4\u62A4\u4E0E\u540E\u7AEF\u7684\u4E00\u4E2A\u957F\u8FDE\u63A5\u5373\u53EF\uFF0C\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u907F\u514D\u4E86\u8D44\u6E90\u635F\u8017\u3002</p><h2 id="websocket\u7684\u4F18\u70B9" tabindex="-1"><a class="header-anchor" href="#websocket\u7684\u4F18\u70B9" aria-hidden="true">#</a> websocket\u7684\u4F18\u70B9</h2>',7),vn={class:"custom-container details"},En=s("\u8F83\u5C11\u7684\u63A7\u5236\u5F00\u9500\u3002\u5728\u8FDE\u63A5\u521B\u5EFA\u540E\uFF0C\u670D\u52A1\u5668\u548C\u5BA2\u6237\u7AEF\u4E4B\u95F4\u4EA4\u6362\u6570\u636E\u65F6\uFF0C\u7528\u4E8E\u534F\u8BAE\u63A7\u5236\u7684\u6570\u636E\u5305\u5934\u90E8\u76F8\u5BF9\u8F83\u5C0F\u3002\u5728\u4E0D\u5305\u542B\u6269\u5C55\u7684\u60C5\u51B5\u4E0B\uFF0C\u5BF9\u4E8E\u670D\u52A1\u5668\u5230\u5BA2\u6237\u7AEF\u7684\u5185\u5BB9\uFF0C\u6B64\u5934\u90E8\u5927\u5C0F\u53EA\u67092\u81F310"),xn={href:"https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82",target:"_blank",rel:"noopener noreferrer"},Tn=s("\u5B57\u8282"),Cn=s("\uFF08\u548C\u6570\u636E\u5305\u957F\u5EA6\u6709\u5173\uFF09\uFF1B\u5BF9\u4E8E\u5BA2\u6237\u7AEF\u5230\u670D\u52A1\u5668\u7684\u5185\u5BB9\uFF0C\u6B64\u5934\u90E8\u8FD8\u9700\u8981\u52A0\u4E0A\u989D\u5916\u76844\u5B57\u8282\u7684"),Sn={href:"https://zh.wikipedia.org/wiki/%E6%8E%A9%E7%A0%81",target:"_blank",rel:"noopener noreferrer"},Bn=s("\u63A9\u7801"),An=s("\u3002\u76F8\u5BF9\u4E8EHTTP\u8BF7\u6C42\u6BCF\u6B21\u90FD\u8981\u643A\u5E26\u5B8C\u6574\u7684\u5934\u90E8\uFF0C\u6B64\u9879\u5F00\u9500\u663E\u8457\u51CF\u5C11\u4E86\u3002"),Mn=s("\u66F4\u5F3A\u7684\u5B9E\u65F6\u6027\u3002\u7531\u4E8E\u534F\u8BAE\u662F\u5168\u53CC\u5DE5\u7684\uFF0C\u6240\u4EE5\u670D\u52A1\u5668\u53EF\u4EE5\u968F\u65F6\u4E3B\u52A8\u7ED9\u5BA2\u6237\u7AEF\u4E0B\u53D1\u6570\u636E\u3002\u76F8\u5BF9\u4E8EHTTP\u8BF7\u6C42\u9700\u8981\u7B49\u5F85\u5BA2\u6237\u7AEF\u53D1\u8D77\u8BF7\u6C42\u670D\u52A1\u7AEF\u624D\u80FD\u54CD\u5E94\uFF0C\u5EF6\u8FDF\u660E\u663E\u66F4\u5C11\uFF1B\u5373\u4F7F\u662F\u548CComet\u7B49\u7C7B\u4F3C\u7684"),jn={href:"https://zh.wikipedia.org/w/index.php?title=%E9%95%BF%E8%BD%AE%E8%AF%A2&action=edit&redlink=1",target:"_blank",rel:"noopener noreferrer"},qn=s("\u957F\u8F6E\u8BE2"),Wn=s("\u6BD4\u8F83\uFF0C\u5176\u4E5F\u80FD\u5728\u77ED\u65F6\u95F4\u5185\u66F4\u591A\u6B21\u5730\u4F20\u9012\u6570\u636E\u3002"),Pn=n("li",null,[n("p",null,"\u4FDD\u6301\u8FDE\u63A5\u72B6\u6001\u3002\u4E0EHTTP\u4E0D\u540C\u7684\u662F\uFF0CWebsocket\u9700\u8981\u5148\u521B\u5EFA\u8FDE\u63A5\uFF0C\u8FD9\u5C31\u4F7F\u5F97\u5176\u6210\u4E3A\u4E00\u79CD\u6709\u72B6\u6001\u7684\u534F\u8BAE\uFF0C\u4E4B\u540E\u901A\u4FE1\u65F6\u53EF\u4EE5\u7701\u7565\u90E8\u5206\u72B6\u6001\u4FE1\u606F\u3002\u800CHTTP\u8BF7\u6C42\u53EF\u80FD\u9700\u8981\u5728\u6BCF\u4E2A\u8BF7\u6C42\u90FD\u643A\u5E26\u72B6\u6001\u4FE1\u606F\uFF08\u5982\u8EAB\u4EFD\u8BA4\u8BC1\u7B49\uFF09\u3002")],-1),Hn=s("\u66F4\u597D\u7684\u4E8C\u8FDB\u5236\u652F\u6301\u3002Websocket\u5B9A\u4E49\u4E86"),Un={href:"https://zh.wikipedia.org/wiki/%E4%BA%8C%E8%BF%9B%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},Ln=s("\u4E8C\u8FDB\u5236"),On=s("\u5E27\uFF0C\u76F8\u5BF9HTTP\uFF0C\u53EF\u4EE5\u66F4\u8F7B\u677E\u5730\u5904\u7406\u4E8C\u8FDB\u5236\u5185\u5BB9\u3002"),zn=s("\u53EF\u4EE5\u652F\u6301\u6269\u5C55\u3002Websocket\u5B9A\u4E49\u4E86\u6269\u5C55\uFF0C\u7528\u6237\u53EF\u4EE5\u6269\u5C55\u534F\u8BAE\u3001\u5B9E\u73B0\u90E8\u5206\u81EA\u5B9A\u4E49\u7684\u5B50\u534F\u8BAE\u3002\u5982\u90E8\u5206\u6D4F\u89C8\u5668\u652F\u6301"),In={href:"https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%8E%8B%E7%BC%A9",target:"_blank",rel:"noopener noreferrer"},Rn=s("\u538B\u7F29"),Fn=s("\u7B49\u3002"),Nn=s("\u66F4\u597D\u7684\u538B\u7F29\u6548\u679C\u3002\u76F8\u5BF9\u4E8E"),Dn={href:"https://zh.wikipedia.org/wiki/HTTP%E5%8E%8B%E7%BC%A9",target:"_blank",rel:"noopener noreferrer"},Gn=s("HTTP\u538B\u7F29"),Kn=s("\uFF0CWebsocket\u5728\u9002\u5F53\u7684\u6269\u5C55\u652F\u6301\u4E0B\uFF0C\u53EF\u4EE5\u6CBF\u7528\u4E4B\u524D\u5185\u5BB9\u7684"),Vn={href:"https://zh.wikipedia.org/wiki/%E4%B8%8A%E4%B8%8B%E6%96%87",target:"_blank",rel:"noopener noreferrer"},Jn=s("\u4E0A\u4E0B\u6587"),Yn=s("\uFF0C\u5728\u4F20\u9012\u7C7B\u4F3C\u7684\u6570\u636E\u65F6\uFF0C\u53EF\u4EE5\u663E\u8457\u5730\u63D0\u9AD8\u538B\u7F29\u7387\u3002["),Zn={href:"https://zh.wikipedia.org/wiki/WebSocket#cite_note-14",target:"_blank",rel:"noopener noreferrer"},Qn=s("14]"),Xn=n("h2",{id:"websocket\u7684\u534F\u8BAE\u5207\u6362",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#websocket\u7684\u534F\u8BAE\u5207\u6362","aria-hidden":"true"},"#"),s(" websocket\u7684\u534F\u8BAE\u5207\u6362")],-1),$n=n("p",null,"WebSocket \u662F\u72EC\u7ACB\u7684\u3001\u521B\u5EFA\u5728TCP\u4E0A\u7684\u534F\u8BAE\u3002",-1),ns=s("Websocket \u901A\u8FC7 "),ss={href:"https://zh.wikipedia.org/wiki/HTTP",target:"_blank",rel:"noopener noreferrer"},as=s("HTTP"),ts=s("/1.1 \u534F\u8BAE\u7684101"),es={href:"https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81",target:"_blank",rel:"noopener noreferrer"},os=s("\u72B6\u6001\u7801"),cs=s("\u8FDB\u884C\u63E1\u624B\u3002"),ps=s("\u4E3A\u4E86\u521B\u5EFAWebsocket\u8FDE\u63A5\uFF0C\u9700\u8981\u901A\u8FC7\u6D4F\u89C8\u5668\u53D1\u51FA\u8BF7\u6C42\uFF0C\u4E4B\u540E\u670D\u52A1\u5668\u8FDB\u884C\u56DE\u5E94\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u901A\u5E38\u79F0\u4E3A\u201C"),ls={href:"https://zh.wikipedia.org/wiki/%E6%8F%A1%E6%89%8B_(%E6%8A%80%E6%9C%AF)",target:"_blank",rel:"noopener noreferrer"},us=s("\u63E1\u624B"),is=s("\u201D\uFF08Handshaking\uFF09\u3002"),rs=s("\u4E00\u4E2A\u5178\u578B\u7684Websocket\u63E1\u624B\u8BF7\u6C42\u5982\u4E0B["),ks={href:"https://zh.wikipedia.org/wiki/WebSocket#cite_note-15",target:"_blank",rel:"noopener noreferrer"},bs=s("15]"),ms=s("\uFF1A"),ds={class:"custom-container details"},gs=c(`<p>\u5BA2\u6237\u7AEF\u8BF7\u6C42\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>GET /chat HTTP/1.1
Host: server.example.com
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: <span class="token assign-left variable">dGhlIHNhbXBsZSBub25jZQ</span><span class="token operator">==</span>
Origin: http://example.com
Sec-WebSocket-Protocol: chat, superchat
Sec-WebSocket-Version: <span class="token number">13</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u670D\u52A1\u5668\u56DE\u5E94\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>HTTP/1.1 <span class="token number">101</span> Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo<span class="token operator">=</span>
Sec-WebSocket-Protocol: chat
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u5B57\u6BB5\u8BF4\u660E</p>`,5),hs=n("li",null,[n("code",null,"Connection"),s("\u5FC5\u987B\u8BBE\u7F6E"),n("code",null,"Upgrade"),s("\uFF0C\u8868\u793A\u5BA2\u6237\u7AEF\u5E0C\u671B\u8FDE\u63A5\u5347\u7EA7\u3002")],-1),_s=n("li",null,[n("code",null,"Upgrade"),s("\u5B57\u6BB5\u5FC5\u987B\u8BBE\u7F6E"),n("code",null,"Websocket"),s("\uFF0C\u8868\u793A\u5E0C\u671B\u5347\u7EA7\u5230Websocket\u534F\u8BAE\u3002")],-1),ws=n("code",null,"Sec-WebSocket-Key",-1),ys=s("\u662F\u968F\u673A\u7684\u5B57\u7B26\u4E32\uFF0C\u670D\u52A1\u5668\u7AEF\u4F1A\u7528\u8FD9\u4E9B\u6570\u636E\u6765\u6784\u9020\u51FA\u4E00\u4E2ASHA-1\u7684\u4FE1\u606F\u6458\u8981\u3002\u628A\u201C"),fs=n("code",null,"Sec-WebSocket-Key",-1),vs=s("\u201D\u52A0\u4E0A\u4E00\u4E2A\u7279\u6B8A\u5B57\u7B26\u4E32\u201C"),Es=n("code",null,"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",-1),xs=s("\u201D\uFF0C\u7136\u540E\u8BA1\u7B97"),Ts={href:"https://zh.wikipedia.org/wiki/SHA-1",target:"_blank",rel:"noopener noreferrer"},Cs=s("SHA-1"),Ss=s("\u6458\u8981\uFF0C\u4E4B\u540E\u8FDB\u884C"),Bs={href:"https://zh.wikipedia.org/wiki/Base64",target:"_blank",rel:"noopener noreferrer"},As=s("Base64"),Ms=s("\u7F16\u7801\uFF0C\u5C06\u7ED3\u679C\u505A\u4E3A\u201C"),js=n("code",null,"Sec-WebSocket-Accept",-1),qs=s("\u201D\u5934\u7684\u503C\uFF0C\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\u3002\u5982\u6B64\u64CD\u4F5C\uFF0C\u53EF\u4EE5\u5C3D\u91CF\u907F\u514D\u666E\u901AHTTP\u8BF7\u6C42\u88AB\u8BEF\u8BA4\u4E3AWebsocket\u534F\u8BAE\u3002"),Ws=n("li",null,[n("code",null,"Sec-WebSocket-Version"),s(" \u8868\u793A\u652F\u6301\u7684Websocket\u7248\u672C\u3002RFC6455\u8981\u6C42\u4F7F\u7528\u7684\u7248\u672C\u662F13\uFF0C\u4E4B\u524D\u8349\u6848\u7684\u7248\u672C\u5747\u5E94\u5F53\u5F03\u7528\u3002")],-1),Ps=n("code",null,"Origin",-1),Hs=s("\u5B57\u6BB5\u662F\u5FC5\u987B\u7684\u3002\u5982\u679C\u7F3A\u5C11"),Us=n("code",null,"origin",-1),Ls=s("\u5B57\u6BB5\uFF0C"),Os=n("code",null,"WebSocket",-1),zs=s("\u670D\u52A1\u5668\u9700\u8981\u56DE\u590DHTTP 403 \u72B6\u6001\u7801\uFF08\u7981\u6B62\u8BBF\u95EE\uFF09\u3002["),Is={href:"https://zh.wikipedia.org/wiki/WebSocket#cite_note-16",target:"_blank",rel:"noopener noreferrer"},Rs=s("16]"),Fs=s("\u5176\u4ED6\u4E00\u4E9B\u5B9A\u4E49\u5728HTTP\u534F\u8BAE\u4E2D\u7684\u5B57\u6BB5\uFF0C\u5982"),Ns={href:"https://zh.wikipedia.org/wiki/Cookie",target:"_blank",rel:"noopener noreferrer"},Ds=s("Cookie"),Gs=s("\u7B49\uFF0C\u4E5F\u53EF\u4EE5\u5728Websocket\u4E2D\u4F7F\u7528\u3002"),Ks=n("hr",null,null,-1),Vs=n("p",null,[s("\u9700\u8981\u5B89\u88C5\u7B2C\u4E09\u65B9\u5305\uFF1A cmd\u4E2D\uFF1A"),n("code",null,"go get -u -v github.com/gorilla/websocket")],-1),Js=n("h2",{id:"\u4E3E\u4E2A\u804A\u5929\u5BA4\u7684\u5C0F\u4F8B\u5B50",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4E3E\u4E2A\u804A\u5929\u5BA4\u7684\u5C0F\u4F8B\u5B50","aria-hidden":"true"},"#"),s(" \u4E3E\u4E2A\u804A\u5929\u5BA4\u7684\u5C0F\u4F8B\u5B50")],-1),Ys={class:"custom-container details"},Zs=n("div",{class:"language-go ext-go line-numbers-mode"},[n("pre",{class:"language-go"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(` main

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"("),s(`
	`),n("span",{class:"token string"},'"encoding/json"'),s(`
	`),n("span",{class:"token string"},'"fmt"'),s(`
	`),n("span",{class:"token string"},'"net/http"'),s(`

	`),n("span",{class:"token string"},'"github.com/gorilla/websocket"'),s(`
`),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"type"),s(" Data "),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token punctuation"},"{"),s(`
	Ip       `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"ip"`'),s(`
	User     `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"user"`'),s(`
	From     `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"from"`'),s(`
	Type     `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"type"`'),s(`
	Content  `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"content"`'),s(`
	UserList `),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token string"},'`json:"user_list"`'),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`

	http`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"HandleFunc"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/ws"'),n("span",{class:"token punctuation"},","),s(" myws"),n("span",{class:"token punctuation"},")"),s(`

	`),n("span",{class:"token keyword"},"go"),s(" h"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

	`),n("span",{class:"token keyword"},"if"),s(" err "),n("span",{class:"token operator"},":="),s(" http"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ListenAndServe"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"127.0.0.1:8080"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"nil"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(" err "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token boolean"},"nil"),s(),n("span",{class:"token punctuation"},"{"),s(`
		fmt`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"err:"'),n("span",{class:"token punctuation"},","),s(" err"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"type"),s(" hub "),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token punctuation"},"{"),s(`
	c `),n("span",{class:"token keyword"},"map"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"bool"),s(`
	b `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),s(`
	r `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s(`connection
	u `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s(`connection
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"var"),s(" h "),n("span",{class:"token operator"},"="),s(" hub"),n("span",{class:"token punctuation"},"{"),s(`
	c`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"map"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"bool"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
	u`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
	b`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
	r`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token punctuation"},"("),s("h "),n("span",{class:"token operator"},"*"),s("hub"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"select"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"case"),s(" c "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"<-"),s("h"),n("span",{class:"token punctuation"},"."),s("r"),n("span",{class:"token punctuation"},":"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},"["),s("c"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Ip "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"RemoteAddr"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"String"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"handshake"'),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("UserList "),n("span",{class:"token operator"},"="),s(` user_list
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("sc "),n("span",{class:"token operator"},"<-"),s(` data_b
		`),n("span",{class:"token keyword"},"case"),s(" c "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"<-"),s("h"),n("span",{class:"token punctuation"},"."),s("u"),n("span",{class:"token punctuation"},":"),s(`
			`),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token boolean"},"_"),n("span",{class:"token punctuation"},","),s(" ok "),n("span",{class:"token operator"},":="),s(" h"),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},"["),s("c"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(" ok "),n("span",{class:"token punctuation"},"{"),s(`
				`),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),s("h"),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},")"),s(`
				`),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("sc"),n("span",{class:"token punctuation"},")"),s(`
			`),n("span",{class:"token punctuation"},"}"),s(`
		`),n("span",{class:"token keyword"},"case"),s(" data "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"<-"),s("h"),n("span",{class:"token punctuation"},"."),s("b"),n("span",{class:"token punctuation"},":"),s(`
			`),n("span",{class:"token keyword"},"for"),s(" c "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token keyword"},"range"),s(" h"),n("span",{class:"token punctuation"},"."),s("c "),n("span",{class:"token punctuation"},"{"),s(`
				`),n("span",{class:"token keyword"},"select"),s(),n("span",{class:"token punctuation"},"{"),s(`
				`),n("span",{class:"token keyword"},"case"),s(" c"),n("span",{class:"token punctuation"},"."),s("sc "),n("span",{class:"token operator"},"<-"),s(" data"),n("span",{class:"token punctuation"},":"),s(`
				`),n("span",{class:"token keyword"},"default"),n("span",{class:"token punctuation"},":"),s(`
					`),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),s("h"),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},")"),s(`
					`),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("sc"),n("span",{class:"token punctuation"},")"),s(`
				`),n("span",{class:"token punctuation"},"}"),s(`
			`),n("span",{class:"token punctuation"},"}"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/**
\u8FDE\u63A5
**/`),s(`
`),n("span",{class:"token keyword"},"type"),s(" connection "),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token punctuation"},"{"),s(`
	ws   `),n("span",{class:"token operator"},"*"),s("websocket"),n("span",{class:"token punctuation"},"."),s(`Conn
	sc   `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),s(`
	data `),n("span",{class:"token operator"},"*"),s(`Data
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/**
\u5C06http\u534F\u8BAE\u5347\u7EA7\u5230websocket\u534F\u8BAE
**/`),s(`
`),n("span",{class:"token keyword"},"var"),s(" wu "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),s("websocket"),n("span",{class:"token punctuation"},"."),s("Upgrader"),n("span",{class:"token punctuation"},"{"),s(`
	HandshakeTimeout`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
	ReadBufferSize`),n("span",{class:"token punctuation"},":"),s("   "),n("span",{class:"token number"},"512"),n("span",{class:"token punctuation"},","),s(`
	WriteBufferSize`),n("span",{class:"token punctuation"},":"),s("  "),n("span",{class:"token number"},"512"),n("span",{class:"token punctuation"},","),s(`
	WriteBufferPool`),n("span",{class:"token punctuation"},":"),s("  "),n("span",{class:"token boolean"},"nil"),n("span",{class:"token punctuation"},","),s(`
	Subprotocols`),n("span",{class:"token punctuation"},":"),s("     "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
	Error`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"func"),n("span",{class:"token punctuation"},"("),s("w http"),n("span",{class:"token punctuation"},"."),s("ResponseWriter"),n("span",{class:"token punctuation"},","),s(" r "),n("span",{class:"token operator"},"*"),s("http"),n("span",{class:"token punctuation"},"."),s("Request"),n("span",{class:"token punctuation"},","),s(" status "),n("span",{class:"token builtin"},"int"),n("span",{class:"token punctuation"},","),s(" reason "),n("span",{class:"token builtin"},"error"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
	CheckOrigin`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"func"),n("span",{class:"token punctuation"},"("),s("r "),n("span",{class:"token operator"},"*"),s("http"),n("span",{class:"token punctuation"},"."),s("Request"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token builtin"},"bool"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"true"),s(`
	`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
	EnableCompression`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/**
http \u7684handleFunc
**/`),s(`
`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token function"},"myws"),n("span",{class:"token punctuation"},"("),s("w http"),n("span",{class:"token punctuation"},"."),s("ResponseWriter"),n("span",{class:"token punctuation"},","),s(" r "),n("span",{class:"token operator"},"*"),s("http"),n("span",{class:"token punctuation"},"."),s("Request"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	ws`),n("span",{class:"token punctuation"},","),s(" err "),n("span",{class:"token operator"},":="),s(" wu"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Upgrade"),n("span",{class:"token punctuation"},"("),s("w"),n("span",{class:"token punctuation"},","),s(" r"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"nil"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"if"),s(" err "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token boolean"},"nil"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	c `),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"&"),s("connection"),n("span",{class:"token punctuation"},"{"),s("sc"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"256"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" ws"),n("span",{class:"token punctuation"},":"),s(" ws"),n("span",{class:"token punctuation"},","),s(" data"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),s("Data"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},"}"),s(`
	h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
	`),n("span",{class:"token keyword"},"go"),s(" c"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"writer"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
	c`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"defer"),s(),n("span",{class:"token keyword"},"func"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
		c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"logout"'),s(`
		user_list `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"del"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User"),n("span",{class:"token punctuation"},")"),s(`
		c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("UserList "),n("span",{class:"token operator"},"="),s(` user_list
		c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Content "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s(`User
		data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
		h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
		h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
	`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token function"},"writer"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"for"),s(" message "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token keyword"},"range"),s(" c"),n("span",{class:"token punctuation"},"."),s("sc "),n("span",{class:"token punctuation"},"{"),s(`
		c`),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"WriteMessage"),n("span",{class:"token punctuation"},"("),s("websocket"),n("span",{class:"token punctuation"},"."),s("TextMessage"),n("span",{class:"token punctuation"},","),s(" message"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	c`),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"var"),s(" user_list "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token function"},"reader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token boolean"},"_"),n("span",{class:"token punctuation"},","),s(" message"),n("span",{class:"token punctuation"},","),s(" err "),n("span",{class:"token operator"},":="),s(" c"),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ReadMessage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token keyword"},"if"),s(" err "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token boolean"},"nil"),s(),n("span",{class:"token punctuation"},"{"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
			`),n("span",{class:"token keyword"},"break"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
		json`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Unmarshal"),n("span",{class:"token punctuation"},"("),s("message"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"&"),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token keyword"},"switch"),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"login"'),n("span",{class:"token punctuation"},":"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s(`Content
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("From "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s(`User
			user_list `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User"),n("span",{class:"token punctuation"},")"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("UserList "),n("span",{class:"token operator"},"="),s(` user_list
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
		`),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"user"'),n("span",{class:"token punctuation"},":"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"user"'),s(`
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
		`),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"logout"'),n("span",{class:"token punctuation"},":"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"logout"'),s(`
			user_list `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"del"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User"),n("span",{class:"token punctuation"},")"),s(`
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
			h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
		`),n("span",{class:"token keyword"},"default"),n("span",{class:"token punctuation"},":"),s(`
			fmt`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"========default================"'),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token function"},"del"),n("span",{class:"token punctuation"},"("),s("slice "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},","),s(" user "),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token punctuation"},"{"),s(`
	count `),n("span",{class:"token operator"},":="),s(),n("span",{class:"token function"},"len"),n("span",{class:"token punctuation"},"("),s("slice"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"if"),s(" count "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"0"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(` slice
	`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token keyword"},"if"),s(" count "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"1"),s(),n("span",{class:"token operator"},"&&"),s(" slice"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(" user "),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token keyword"},"var"),s(" n_slice "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token keyword"},"for"),s(" i "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token keyword"},"range"),s(" slice "),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"if"),s(" slice"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(" user "),n("span",{class:"token operator"},"&&"),s(" i "),n("span",{class:"token operator"},"=="),s(" count "),n("span",{class:"token punctuation"},"{"),s(`
			`),n("span",{class:"token keyword"},"return"),s(" slice"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},":"),s("count"),n("span",{class:"token punctuation"},"]"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(" slice"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(" user "),n("span",{class:"token punctuation"},"{"),s(`
			n_slice `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),s("slice"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},":"),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(" slice"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token operator"},"+"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},"..."),n("span",{class:"token punctuation"},")"),s(`
			`),n("span",{class:"token keyword"},"break"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	fmt`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Println"),n("span",{class:"token punctuation"},"("),s("n_slice"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"return"),s(` n_slice
`),n("span",{class:"token punctuation"},"}"),s(`


`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br"),n("span",{class:"line-number"},"90"),n("br"),n("span",{class:"line-number"},"91"),n("br"),n("span",{class:"line-number"},"92"),n("br"),n("span",{class:"line-number"},"93"),n("br"),n("span",{class:"line-number"},"94"),n("br"),n("span",{class:"line-number"},"95"),n("br"),n("span",{class:"line-number"},"96"),n("br"),n("span",{class:"line-number"},"97"),n("br"),n("span",{class:"line-number"},"98"),n("br"),n("span",{class:"line-number"},"99"),n("br"),n("span",{class:"line-number"},"100"),n("br"),n("span",{class:"line-number"},"101"),n("br"),n("span",{class:"line-number"},"102"),n("br"),n("span",{class:"line-number"},"103"),n("br"),n("span",{class:"line-number"},"104"),n("br"),n("span",{class:"line-number"},"105"),n("br"),n("span",{class:"line-number"},"106"),n("br"),n("span",{class:"line-number"},"107"),n("br"),n("span",{class:"line-number"},"108"),n("br"),n("span",{class:"line-number"},"109"),n("br"),n("span",{class:"line-number"},"110"),n("br"),n("span",{class:"line-number"},"111"),n("br"),n("span",{class:"line-number"},"112"),n("br"),n("span",{class:"line-number"},"113"),n("br"),n("span",{class:"line-number"},"114"),n("br"),n("span",{class:"line-number"},"115"),n("br"),n("span",{class:"line-number"},"116"),n("br"),n("span",{class:"line-number"},"117"),n("br"),n("span",{class:"line-number"},"118"),n("br"),n("span",{class:"line-number"},"119"),n("br"),n("span",{class:"line-number"},"120"),n("br"),n("span",{class:"line-number"},"121"),n("br"),n("span",{class:"line-number"},"122"),n("br"),n("span",{class:"line-number"},"123"),n("br"),n("span",{class:"line-number"},"124"),n("br"),n("span",{class:"line-number"},"125"),n("br"),n("span",{class:"line-number"},"126"),n("br"),n("span",{class:"line-number"},"127"),n("br"),n("span",{class:"line-number"},"128"),n("br"),n("span",{class:"line-number"},"129"),n("br"),n("span",{class:"line-number"},"130"),n("br"),n("span",{class:"line-number"},"131"),n("br"),n("span",{class:"line-number"},"132"),n("br"),n("span",{class:"line-number"},"133"),n("br"),n("span",{class:"line-number"},"134"),n("br"),n("span",{class:"line-number"},"135"),n("br"),n("span",{class:"line-number"},"136"),n("br"),n("span",{class:"line-number"},"137"),n("br"),n("span",{class:"line-number"},"138"),n("br"),n("span",{class:"line-number"},"139"),n("br"),n("span",{class:"line-number"},"140"),n("br"),n("span",{class:"line-number"},"141"),n("br"),n("span",{class:"line-number"},"142"),n("br"),n("span",{class:"line-number"},"143"),n("br"),n("span",{class:"line-number"},"144"),n("br"),n("span",{class:"line-number"},"145"),n("br"),n("span",{class:"line-number"},"146"),n("br"),n("span",{class:"line-number"},"147"),n("br"),n("span",{class:"line-number"},"148"),n("br"),n("span",{class:"line-number"},"149"),n("br"),n("span",{class:"line-number"},"150"),n("br"),n("span",{class:"line-number"},"151"),n("br"),n("span",{class:"line-number"},"152"),n("br"),n("span",{class:"line-number"},"153"),n("br"),n("span",{class:"line-number"},"154"),n("br"),n("span",{class:"line-number"},"155"),n("br"),n("span",{class:"line-number"},"156"),n("br"),n("span",{class:"line-number"},"157"),n("br"),n("span",{class:"line-number"},"158"),n("br"),n("span",{class:"line-number"},"159"),n("br"),n("span",{class:"line-number"},"160"),n("br"),n("span",{class:"line-number"},"161"),n("br"),n("span",{class:"line-number"},"162"),n("br"),n("span",{class:"line-number"},"163"),n("br"),n("span",{class:"line-number"},"164"),n("br"),n("span",{class:"line-number"},"165"),n("br"),n("span",{class:"line-number"},"166"),n("br"),n("span",{class:"line-number"},"167"),n("br"),n("span",{class:"line-number"},"168"),n("br"),n("span",{class:"line-number"},"169"),n("br"),n("span",{class:"line-number"},"170"),n("br"),n("span",{class:"line-number"},"171"),n("br"),n("span",{class:"line-number"},"172"),n("br"),n("span",{class:"line-number"},"173"),n("br"),n("span",{class:"line-number"},"174"),n("br"),n("span",{class:"line-number"},"175"),n("br"),n("span",{class:"line-number"},"176"),n("br"),n("span",{class:"line-number"},"177"),n("br"),n("span",{class:"line-number"},"178"),n("br"),n("span",{class:"line-number"},"179"),n("br"),n("span",{class:"line-number"},"180"),n("br"),n("span",{class:"line-number"},"181"),n("br"),n("span",{class:"line-number"},"182"),n("br"),n("span",{class:"line-number"},"183"),n("br"),n("span",{class:"line-number"},"184"),n("br")])],-1),Qs=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token doctype"},[n("span",{class:"token punctuation"},"<!"),n("span",{class:"token doctype-tag"},"DOCTYPE"),s(),n("span",{class:"token name"},"html"),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("html")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("head")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("title")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("title")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("meta")]),s(),n("span",{class:"token attr-name"},"http-equiv"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("content-type"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"content"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("text/html;charset=utf-8"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("style")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[s(`
        `),n("span",{class:"token selector"},"p"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" left"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token property"},"padding-left"),n("span",{class:"token punctuation"},":"),s(" 20px"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("style")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("head")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("body")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 800px"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 600px"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"margin"),n("span",{class:"token punctuation"},":"),s(" 30px auto"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" center")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("h1")]),n("span",{class:"token punctuation"},">")]),s("www.5lmh.comy\u6F14\u793A\u804A\u5929\u5BA4"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("h1")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 800px"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"border"),n("span",{class:"token punctuation"},":"),s(" 1px solid gray"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 300px"),n("span",{class:"token punctuation"},";")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 200px"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 300px"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"float"),n("span",{class:"token punctuation"},":"),s(" left"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" left"),n("span",{class:"token punctuation"},";")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("p")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("span")]),n("span",{class:"token punctuation"},">")]),s("\u5F53\u524D\u5728\u7EBF:"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("span")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("span")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("user_num"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("0"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("span")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("p")]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("user_list"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"overflow"),n("span",{class:"token punctuation"},":"),s(" auto"),n("span",{class:"token punctuation"},";")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("msg_list"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 598px"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"border"),n("span",{class:"token punctuation"},":"),s("  1px solid gray"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 300px"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"overflow"),n("span",{class:"token punctuation"},":"),s(" scroll"),n("span",{class:"token punctuation"},";"),n("span",{class:"token property"},"float"),n("span",{class:"token punctuation"},":"),s(" left"),n("span",{class:"token punctuation"},";")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("br")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("textarea")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("msg_box"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"rows"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("6"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"cols"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("50"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"onkeydown"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value javascript language-javascript"},[n("span",{class:"token function"},"confirm"),n("span",{class:"token punctuation"},"("),s("event"),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("textarea")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("br")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("input")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("button"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("\u53D1\u9001"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"onclick"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value javascript language-javascript"},[n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("body")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("html")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("text/javascript"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
    `),n("span",{class:"token keyword"},"var"),s(" uname "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"prompt"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'\u8BF7\u8F93\u5165\u7528\u6237\u540D'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'user'"),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token function"},"uuid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"8"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"16"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" ws "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"WebSocket"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"ws://127.0.0.1:8080/ws"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    ws`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"onopen"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F\uFF1A\u5EFA\u7ACB\u8FDE\u63A5\u6210\u529F"'),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    ws`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"onmessage"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" msg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token constant"},"JSON"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"parse"),n("span",{class:"token punctuation"},"("),s("e"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" sender"),n("span",{class:"token punctuation"},","),s(" user_name"),n("span",{class:"token punctuation"},","),s(" name_list"),n("span",{class:"token punctuation"},","),s(" change_type"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'system'"),n("span",{class:"token operator"},":"),s(`
                sender `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'\u7CFB\u7EDF\u6D88\u606F: '"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'user'"),n("span",{class:"token operator"},":"),s(`
                sender `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("from "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"': '"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'handshake'"),n("span",{class:"token operator"},":"),s(`
                `),n("span",{class:"token keyword"},"var"),s(" user_info "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token string-property property"},"'type'"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'login'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string-property property"},"'content'"),n("span",{class:"token operator"},":"),s(" uname"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token function"},"sendMsg"),n("span",{class:"token punctuation"},"("),s("user_info"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'login'"),n("span",{class:"token operator"},":"),s(`
            `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},"'logout'"),n("span",{class:"token operator"},":"),s(`
                user_name `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("content"),n("span",{class:"token punctuation"},";"),s(`
                name_list `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("user_list"),n("span",{class:"token punctuation"},";"),s(`
                change_type `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token function"},"dealUser"),n("span",{class:"token punctuation"},"("),s("user_name"),n("span",{class:"token punctuation"},","),s(" change_type"),n("span",{class:"token punctuation"},","),s(" name_list"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(" sender "),n("span",{class:"token operator"},"+"),s(" msg"),n("span",{class:"token punctuation"},"."),s("content"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    ws`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"onerror"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F : \u51FA\u9519\u4E86,\u8BF7\u9000\u51FA\u91CD\u8BD5."'),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"confirm"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"event"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" key_num "),n("span",{class:"token operator"},"="),s(" event"),n("span",{class:"token punctuation"},"."),s("keyCode"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"13"),s(),n("span",{class:"token operator"},"=="),s(" key_num"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" msg_box "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"msg_box"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" content "),n("span",{class:"token operator"},"="),s(" msg_box"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" reg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"RegExp"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\\r\\n"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"g"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        content `),n("span",{class:"token operator"},"="),s(" content"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"replace"),n("span",{class:"token punctuation"},"("),s("reg"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" msg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token string-property property"},"'content'"),n("span",{class:"token operator"},":"),s(" content"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"trim"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string-property property"},"'type'"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'user'"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"sendMsg"),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        msg_box`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"data"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" msg_list "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"msg_list"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" msg "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createElement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"p"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        msg`),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(" data"),n("span",{class:"token punctuation"},";"),s(`
        msg_list`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"appendChild"),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        msg_list`),n("span",{class:"token punctuation"},"."),s("scrollTop "),n("span",{class:"token operator"},"="),s(" msg_list"),n("span",{class:"token punctuation"},"."),s("scrollHeight"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"dealUser"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("user_name"),n("span",{class:"token punctuation"},","),s(" type"),n("span",{class:"token punctuation"},","),s(" name_list")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" user_list "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"user_list"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" user_num "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"user_num"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"while"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasChildNodes"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            user_list`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"removeChild"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},"."),s("firstChild"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"var"),s(" index "),n("span",{class:"token keyword"},"in"),s(" name_list"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"var"),s(" user "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createElement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"p"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            user`),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(" name_list"),n("span",{class:"token punctuation"},"["),s("index"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
            user_list`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"appendChild"),n("span",{class:"token punctuation"},"("),s("user"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        user_num`),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(" name_list"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},";"),s(`
        user_list`),n("span",{class:"token punctuation"},"."),s("scrollTop "),n("span",{class:"token operator"},"="),s(" user_list"),n("span",{class:"token punctuation"},"."),s("scrollHeight"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" change "),n("span",{class:"token operator"},"="),s(" type "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'login'"),s(),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token string"},"'\u4E0A\u7EBF'"),s(),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'\u4E0B\u7EBF'"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'\u7CFB\u7EDF\u6D88\u606F: '"),s(),n("span",{class:"token operator"},"+"),s(" user_name "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"' \u5DF2'"),s(),n("span",{class:"token operator"},"+"),s(" change"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"sendMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"msg"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token constant"},"JSON"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stringify"),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        ws`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"uuid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("len"),n("span",{class:"token punctuation"},","),s(" radix")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" chars "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"split"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"var"),s(" uuid "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(" i"),n("span",{class:"token punctuation"},";"),s(`
        radix `),n("span",{class:"token operator"},"="),s(" radix "),n("span",{class:"token operator"},"||"),s(" chars"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("len"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),s("i "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(" i "),n("span",{class:"token operator"},"<"),s(" len"),n("span",{class:"token punctuation"},";"),s(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),s(" uuid"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" chars"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),s(),n("span",{class:"token operator"},"|"),s(" Math"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"random"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"*"),s(" radix"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"var"),s(" r"),n("span",{class:"token punctuation"},";"),s(`
            uuid`),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"8"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" uuid"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"13"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" uuid"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"18"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" uuid"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"23"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'-'"),n("span",{class:"token punctuation"},";"),s(`
            uuid`),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"14"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'4'"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),s("i "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(" i "),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token number"},"36"),n("span",{class:"token punctuation"},";"),s(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("uuid"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    r `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(),n("span",{class:"token operator"},"|"),s(" Math"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"random"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token number"},"16"),n("span",{class:"token punctuation"},";"),s(`
                    uuid`),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" chars"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"("),s("i "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"19"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token punctuation"},"("),s("r "),n("span",{class:"token operator"},"&"),s(),n("span",{class:"token number"},"0x3"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token number"},"0x8"),s(),n("span",{class:"token operator"},":"),s(" r"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"return"),s(" uuid"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br"),n("span",{class:"line-number"},"90"),n("br"),n("span",{class:"line-number"},"91"),n("br"),n("span",{class:"line-number"},"92"),n("br"),n("span",{class:"line-number"},"93"),n("br"),n("span",{class:"line-number"},"94"),n("br"),n("span",{class:"line-number"},"95"),n("br"),n("span",{class:"line-number"},"96"),n("br"),n("span",{class:"line-number"},"97"),n("br"),n("span",{class:"line-number"},"98"),n("br"),n("span",{class:"line-number"},"99"),n("br"),n("span",{class:"line-number"},"100"),n("br"),n("span",{class:"line-number"},"101"),n("br"),n("span",{class:"line-number"},"102"),n("br"),n("span",{class:"line-number"},"103"),n("br"),n("span",{class:"line-number"},"104"),n("br"),n("span",{class:"line-number"},"105"),n("br"),n("span",{class:"line-number"},"106"),n("br"),n("span",{class:"line-number"},"107"),n("br"),n("span",{class:"line-number"},"108"),n("br"),n("span",{class:"line-number"},"109"),n("br"),n("span",{class:"line-number"},"110"),n("br"),n("span",{class:"line-number"},"111"),n("br"),n("span",{class:"line-number"},"112"),n("br"),n("span",{class:"line-number"},"113"),n("br"),n("span",{class:"line-number"},"114"),n("br"),n("span",{class:"line-number"},"115"),n("br"),n("span",{class:"line-number"},"116"),n("br"),n("span",{class:"line-number"},"117"),n("br"),n("span",{class:"line-number"},"118"),n("br"),n("span",{class:"line-number"},"119"),n("br"),n("span",{class:"line-number"},"120"),n("br"),n("span",{class:"line-number"},"121"),n("br"),n("span",{class:"line-number"},"122"),n("br"),n("span",{class:"line-number"},"123"),n("br"),n("span",{class:"line-number"},"124"),n("br"),n("span",{class:"line-number"},"125"),n("br"),n("span",{class:"line-number"},"126"),n("br"),n("span",{class:"line-number"},"127"),n("br"),n("span",{class:"line-number"},"128"),n("br"),n("span",{class:"line-number"},"129"),n("br"),n("span",{class:"line-number"},"130"),n("br"),n("span",{class:"line-number"},"131"),n("br"),n("span",{class:"line-number"},"132"),n("br")])],-1),Xs=n("p",null,[s("\u8FD0\u884C "),n("code",null,"go run server.go"),s(" \u8FD0\u884C\u4E4B\u540E\u6267\u884Clocal.html\u6587\u4EF6")],-1),$s=n("p",null,"\u8FD0\u884C\u7ED3\u679C",-1),na=n("p",null,[n("img",{src:b,alt:"image-20220426232344710"})],-1),sa=n("ul",null,[n("li",null,"\u6574\u4F53\u6D41\u7A0B")],-1),aa=n("p",null,[n("img",{src:m,alt:"websocket"})],-1),ta=n("h3",{id:"\u52A0\u5165\u5FC3\u8DF3\u68C0\u6D4B\u673A\u5236",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u52A0\u5165\u5FC3\u8DF3\u68C0\u6D4B\u673A\u5236","aria-hidden":"true"},"#"),s(" \u52A0\u5165\u5FC3\u8DF3\u68C0\u6D4B\u673A\u5236")],-1),ea=n("ul",null,[n("li",null,"\u5FC3\u8DF3\u68C0\u6D4B\u6D41\u7A0B")],-1),oa=n("p",null,[n("img",{src:d,alt:"heartbeat"})],-1),ca={class:"custom-container details"},pa=n("div",{class:"language-go ext-go line-numbers-mode"},[n("pre",{class:"language-go"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(` main

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"("),s(`
	`),n("span",{class:"token string"},'"encoding/json"'),s(`
	`),n("span",{class:"token string"},'"fmt"'),s(`
	`),n("span",{class:"token string"},'"log"'),s(`
	`),n("span",{class:"token string"},'"net/http"'),s(`

	`),n("span",{class:"token string"},'"github.com/gorilla/websocket"'),s(`
`),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"type"),s(" Data "),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token punctuation"},"{"),s(`
	Ip       `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"ip"`'),s(`
	User     `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"user"`'),s(`
	From     `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"from"`'),s(`
	Type     `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"type"`'),s(`
	Content  `),n("span",{class:"token builtin"},"string"),s("   "),n("span",{class:"token string"},'`json:"content"`'),s(`
	UserList `),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token string"},'`json:"user_list"`'),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`

	http`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"HandleFunc"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/ws"'),n("span",{class:"token punctuation"},","),s(" myws"),n("span",{class:"token punctuation"},")"),s(`

	`),n("span",{class:"token keyword"},"go"),s(" h"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

	`),n("span",{class:"token keyword"},"if"),s(" err "),n("span",{class:"token operator"},":="),s(" http"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ListenAndServe"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"127.0.0.1:8080"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"nil"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(" err "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token boolean"},"nil"),s(),n("span",{class:"token punctuation"},"{"),s(`
		fmt`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"err:"'),n("span",{class:"token punctuation"},","),s(" err"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"type"),s(" hub "),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token punctuation"},"{"),s(`
	c `),n("span",{class:"token keyword"},"map"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"bool"),s(`
	b `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),s(`
	r `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s(`connection
	u `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s(`connection
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"var"),s(" h "),n("span",{class:"token operator"},"="),s(" hub"),n("span",{class:"token punctuation"},"{"),s(`
	c`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"map"),n("span",{class:"token punctuation"},"["),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"bool"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
	u`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
	b`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
	r`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token punctuation"},"("),s("h "),n("span",{class:"token operator"},"*"),s("hub"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"select"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"case"),s(" connection "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"<-"),s("h"),n("span",{class:"token punctuation"},"."),s("r"),n("span",{class:"token punctuation"},":"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},"["),s("connection"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),s(`
			connection`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Ip "),n("span",{class:"token operator"},"="),s(" connection"),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"RemoteAddr"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"String"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
			connection`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"handshake"'),s(`
			log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Println"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Ip"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"handshake"'),n("span",{class:"token punctuation"},")"),s(`
			connection`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("UserList "),n("span",{class:"token operator"},"="),s(` user_list
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			connection`),n("span",{class:"token punctuation"},"."),s("sc "),n("span",{class:"token operator"},"<-"),s(` data_b
		`),n("span",{class:"token keyword"},"case"),s(" connection "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"<-"),s("h"),n("span",{class:"token punctuation"},"."),s("u"),n("span",{class:"token punctuation"},":"),s(`
			`),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token boolean"},"_"),n("span",{class:"token punctuation"},","),s(" ok "),n("span",{class:"token operator"},":="),s(" h"),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},"["),s("connection"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(" ok "),n("span",{class:"token punctuation"},"{"),s(`
				`),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),s("h"),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},","),s(" connection"),n("span",{class:"token punctuation"},")"),s(`
				log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Println"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Ip"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"delete"'),n("span",{class:"token punctuation"},")"),s(`
				`),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),s("connection"),n("span",{class:"token punctuation"},"."),s("sc"),n("span",{class:"token punctuation"},")"),s(`
			`),n("span",{class:"token punctuation"},"}"),s(`
		`),n("span",{class:"token keyword"},"case"),s(" data "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"<-"),s("h"),n("span",{class:"token punctuation"},"."),s("b"),n("span",{class:"token punctuation"},":"),s(`
			`),n("span",{class:"token keyword"},"for"),s(" c "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token keyword"},"range"),s(" h"),n("span",{class:"token punctuation"},"."),s("c "),n("span",{class:"token punctuation"},"{"),s(`
				`),n("span",{class:"token keyword"},"select"),s(),n("span",{class:"token punctuation"},"{"),s(`
				`),n("span",{class:"token keyword"},"case"),s(" c"),n("span",{class:"token punctuation"},"."),s("sc "),n("span",{class:"token operator"},"<-"),s(" data"),n("span",{class:"token punctuation"},":"),s(`
				`),n("span",{class:"token keyword"},"default"),n("span",{class:"token punctuation"},":"),s(`
					`),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),s("h"),n("span",{class:"token punctuation"},"."),s("c"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},")"),s(`
					`),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("sc"),n("span",{class:"token punctuation"},")"),s(`
				`),n("span",{class:"token punctuation"},"}"),s(`
			`),n("span",{class:"token punctuation"},"}"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/**
\u8FDE\u63A5
**/`),s(`
`),n("span",{class:"token keyword"},"type"),s(" connection "),n("span",{class:"token keyword"},"struct"),s(),n("span",{class:"token punctuation"},"{"),s(`
	ws   `),n("span",{class:"token operator"},"*"),s("websocket"),n("span",{class:"token punctuation"},"."),s(`Conn
	sc   `),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),s(`
	data `),n("span",{class:"token operator"},"*"),s(`Data
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/**
\u5C06http\u534F\u8BAE\u5347\u7EA7\u5230websocket\u534F\u8BAE
**/`),s(`
`),n("span",{class:"token keyword"},"var"),s(" wu "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"&"),s("websocket"),n("span",{class:"token punctuation"},"."),s("Upgrader"),n("span",{class:"token punctuation"},"{"),s(`
	HandshakeTimeout`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(`
	ReadBufferSize`),n("span",{class:"token punctuation"},":"),s("   "),n("span",{class:"token number"},"512"),n("span",{class:"token punctuation"},","),s(`
	WriteBufferSize`),n("span",{class:"token punctuation"},":"),s("  "),n("span",{class:"token number"},"512"),n("span",{class:"token punctuation"},","),s(`
	WriteBufferPool`),n("span",{class:"token punctuation"},":"),s("  "),n("span",{class:"token boolean"},"nil"),n("span",{class:"token punctuation"},","),s(`
	Subprotocols`),n("span",{class:"token punctuation"},":"),s("     "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
	Error`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"func"),n("span",{class:"token punctuation"},"("),s("w http"),n("span",{class:"token punctuation"},"."),s("ResponseWriter"),n("span",{class:"token punctuation"},","),s(" r "),n("span",{class:"token operator"},"*"),s("http"),n("span",{class:"token punctuation"},"."),s("Request"),n("span",{class:"token punctuation"},","),s(" status "),n("span",{class:"token builtin"},"int"),n("span",{class:"token punctuation"},","),s(" reason "),n("span",{class:"token builtin"},"error"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
	CheckOrigin`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"func"),n("span",{class:"token punctuation"},"("),s("r "),n("span",{class:"token operator"},"*"),s("http"),n("span",{class:"token punctuation"},"."),s("Request"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token builtin"},"bool"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"true"),s(`
	`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
	EnableCompression`),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token comment"},`/**
http \u7684handleFunc
**/`),s(`
`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token function"},"myws"),n("span",{class:"token punctuation"},"("),s("w http"),n("span",{class:"token punctuation"},"."),s("ResponseWriter"),n("span",{class:"token punctuation"},","),s(" r "),n("span",{class:"token operator"},"*"),s("http"),n("span",{class:"token punctuation"},"."),s("Request"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	ws`),n("span",{class:"token punctuation"},","),s(" err "),n("span",{class:"token operator"},":="),s(" wu"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Upgrade"),n("span",{class:"token punctuation"},"("),s("w"),n("span",{class:"token punctuation"},","),s(" r"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"nil"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"if"),s(" err "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token boolean"},"nil"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	c `),n("span",{class:"token operator"},":="),s(),n("span",{class:"token operator"},"&"),s("connection"),n("span",{class:"token punctuation"},"{"),s("sc"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"make"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"chan"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"byte"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"256"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" ws"),n("span",{class:"token punctuation"},":"),s(" ws"),n("span",{class:"token punctuation"},","),s(" data"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token operator"},"&"),s("Data"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},"}"),s(`
	h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
	`),n("span",{class:"token keyword"},"go"),s(" c"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"writer"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
	c`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"defer"),s(),n("span",{class:"token keyword"},"func"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
		c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"logout"'),s(`
		user_list `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"del"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User"),n("span",{class:"token punctuation"},")"),s(`
		c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("UserList "),n("span",{class:"token operator"},"="),s(` user_list
		c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Content "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s(`User
		data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
		h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
		h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
	`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token function"},"writer"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"for"),s(" message "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token keyword"},"range"),s(" c"),n("span",{class:"token punctuation"},"."),s("sc "),n("span",{class:"token punctuation"},"{"),s(`
		c`),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"WriteMessage"),n("span",{class:"token punctuation"},"("),s("websocket"),n("span",{class:"token punctuation"},"."),s("TextMessage"),n("span",{class:"token punctuation"},","),s(" message"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	c`),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"var"),s(" user_list "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token punctuation"},"("),s("c "),n("span",{class:"token operator"},"*"),s("connection"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token function"},"reader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token boolean"},"_"),n("span",{class:"token punctuation"},","),s(" message"),n("span",{class:"token punctuation"},","),s(" err "),n("span",{class:"token operator"},":="),s(" c"),n("span",{class:"token punctuation"},"."),s("ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ReadMessage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token keyword"},"if"),s(" err "),n("span",{class:"token operator"},"!="),s(),n("span",{class:"token boolean"},"nil"),s(),n("span",{class:"token punctuation"},"{"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
			`),n("span",{class:"token keyword"},"break"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
		log`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Printf"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"recv from %v, data = %s\\r\\n"'),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Ip"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token function"},"string"),n("span",{class:"token punctuation"},"("),s("message"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},":"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
		json`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Unmarshal"),n("span",{class:"token punctuation"},"("),s("message"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"&"),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token keyword"},"switch"),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"login"'),n("span",{class:"token punctuation"},":"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s(`Content
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("From "),n("span",{class:"token operator"},"="),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s(`User
			user_list `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User"),n("span",{class:"token punctuation"},")"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("UserList "),n("span",{class:"token operator"},"="),s(` user_list
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
		`),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"user"'),n("span",{class:"token punctuation"},":"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"user"'),s(`
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b

		`),n("span",{class:"token comment"},`/**
			\u5FC3\u8DF3\u5305
		**/`),s(`
		`),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"heartbeat"'),n("span",{class:"token punctuation"},":"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"heartbeat"'),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Content "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"heartbeat"'),s(`
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
		`),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"logout"'),n("span",{class:"token punctuation"},":"),s(`
			c`),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"logout"'),s(`
			user_list `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"del"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},"."),s("User"),n("span",{class:"token punctuation"},")"),s(`
			data_b`),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token boolean"},"_"),s(),n("span",{class:"token operator"},":="),s(" json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Marshal"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},"."),s("data"),n("span",{class:"token punctuation"},")"),s(`
			h`),n("span",{class:"token punctuation"},"."),s("b "),n("span",{class:"token operator"},"<-"),s(` data_b
			h`),n("span",{class:"token punctuation"},"."),s("r "),n("span",{class:"token operator"},"<-"),s(` c
		`),n("span",{class:"token keyword"},"default"),n("span",{class:"token punctuation"},":"),s(`
			fmt`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"========default================"'),n("span",{class:"token punctuation"},")"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"func"),s(),n("span",{class:"token function"},"del"),n("span",{class:"token punctuation"},"("),s("slice "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},","),s(" user "),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token punctuation"},"{"),s(`
	count `),n("span",{class:"token operator"},":="),s(),n("span",{class:"token function"},"len"),n("span",{class:"token punctuation"},"("),s("slice"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"if"),s(" count "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"0"),s(),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(` slice
	`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token keyword"},"if"),s(" count "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"1"),s(),n("span",{class:"token operator"},"&&"),s(" slice"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(" user "),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token keyword"},"var"),s(" n_slice "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token keyword"},"for"),s(" i "),n("span",{class:"token operator"},":="),s(),n("span",{class:"token keyword"},"range"),s(" slice "),n("span",{class:"token punctuation"},"{"),s(`
		`),n("span",{class:"token keyword"},"if"),s(" slice"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(" user "),n("span",{class:"token operator"},"&&"),s(" i "),n("span",{class:"token operator"},"=="),s(" count "),n("span",{class:"token punctuation"},"{"),s(`
			`),n("span",{class:"token keyword"},"return"),s(" slice"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},":"),s("count"),n("span",{class:"token punctuation"},"]"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(" slice"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(" user "),n("span",{class:"token punctuation"},"{"),s(`
			n_slice `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),s("slice"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},":"),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(" slice"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token operator"},"+"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},"..."),n("span",{class:"token punctuation"},")"),s(`
			`),n("span",{class:"token keyword"},"break"),s(`
		`),n("span",{class:"token punctuation"},"}"),s(`
	`),n("span",{class:"token punctuation"},"}"),s(`
	fmt`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Println"),n("span",{class:"token punctuation"},"("),s("n_slice"),n("span",{class:"token punctuation"},")"),s(`
	`),n("span",{class:"token keyword"},"return"),s(` n_slice
`),n("span",{class:"token punctuation"},"}"),s(`


`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br"),n("span",{class:"line-number"},"90"),n("br"),n("span",{class:"line-number"},"91"),n("br"),n("span",{class:"line-number"},"92"),n("br"),n("span",{class:"line-number"},"93"),n("br"),n("span",{class:"line-number"},"94"),n("br"),n("span",{class:"line-number"},"95"),n("br"),n("span",{class:"line-number"},"96"),n("br"),n("span",{class:"line-number"},"97"),n("br"),n("span",{class:"line-number"},"98"),n("br"),n("span",{class:"line-number"},"99"),n("br"),n("span",{class:"line-number"},"100"),n("br"),n("span",{class:"line-number"},"101"),n("br"),n("span",{class:"line-number"},"102"),n("br"),n("span",{class:"line-number"},"103"),n("br"),n("span",{class:"line-number"},"104"),n("br"),n("span",{class:"line-number"},"105"),n("br"),n("span",{class:"line-number"},"106"),n("br"),n("span",{class:"line-number"},"107"),n("br"),n("span",{class:"line-number"},"108"),n("br"),n("span",{class:"line-number"},"109"),n("br"),n("span",{class:"line-number"},"110"),n("br"),n("span",{class:"line-number"},"111"),n("br"),n("span",{class:"line-number"},"112"),n("br"),n("span",{class:"line-number"},"113"),n("br"),n("span",{class:"line-number"},"114"),n("br"),n("span",{class:"line-number"},"115"),n("br"),n("span",{class:"line-number"},"116"),n("br"),n("span",{class:"line-number"},"117"),n("br"),n("span",{class:"line-number"},"118"),n("br"),n("span",{class:"line-number"},"119"),n("br"),n("span",{class:"line-number"},"120"),n("br"),n("span",{class:"line-number"},"121"),n("br"),n("span",{class:"line-number"},"122"),n("br"),n("span",{class:"line-number"},"123"),n("br"),n("span",{class:"line-number"},"124"),n("br"),n("span",{class:"line-number"},"125"),n("br"),n("span",{class:"line-number"},"126"),n("br"),n("span",{class:"line-number"},"127"),n("br"),n("span",{class:"line-number"},"128"),n("br"),n("span",{class:"line-number"},"129"),n("br"),n("span",{class:"line-number"},"130"),n("br"),n("span",{class:"line-number"},"131"),n("br"),n("span",{class:"line-number"},"132"),n("br"),n("span",{class:"line-number"},"133"),n("br"),n("span",{class:"line-number"},"134"),n("br"),n("span",{class:"line-number"},"135"),n("br"),n("span",{class:"line-number"},"136"),n("br"),n("span",{class:"line-number"},"137"),n("br"),n("span",{class:"line-number"},"138"),n("br"),n("span",{class:"line-number"},"139"),n("br"),n("span",{class:"line-number"},"140"),n("br"),n("span",{class:"line-number"},"141"),n("br"),n("span",{class:"line-number"},"142"),n("br"),n("span",{class:"line-number"},"143"),n("br"),n("span",{class:"line-number"},"144"),n("br"),n("span",{class:"line-number"},"145"),n("br"),n("span",{class:"line-number"},"146"),n("br"),n("span",{class:"line-number"},"147"),n("br"),n("span",{class:"line-number"},"148"),n("br"),n("span",{class:"line-number"},"149"),n("br"),n("span",{class:"line-number"},"150"),n("br"),n("span",{class:"line-number"},"151"),n("br"),n("span",{class:"line-number"},"152"),n("br"),n("span",{class:"line-number"},"153"),n("br"),n("span",{class:"line-number"},"154"),n("br"),n("span",{class:"line-number"},"155"),n("br"),n("span",{class:"line-number"},"156"),n("br"),n("span",{class:"line-number"},"157"),n("br"),n("span",{class:"line-number"},"158"),n("br"),n("span",{class:"line-number"},"159"),n("br"),n("span",{class:"line-number"},"160"),n("br"),n("span",{class:"line-number"},"161"),n("br"),n("span",{class:"line-number"},"162"),n("br"),n("span",{class:"line-number"},"163"),n("br"),n("span",{class:"line-number"},"164"),n("br"),n("span",{class:"line-number"},"165"),n("br"),n("span",{class:"line-number"},"166"),n("br"),n("span",{class:"line-number"},"167"),n("br"),n("span",{class:"line-number"},"168"),n("br"),n("span",{class:"line-number"},"169"),n("br"),n("span",{class:"line-number"},"170"),n("br"),n("span",{class:"line-number"},"171"),n("br"),n("span",{class:"line-number"},"172"),n("br"),n("span",{class:"line-number"},"173"),n("br"),n("span",{class:"line-number"},"174"),n("br"),n("span",{class:"line-number"},"175"),n("br"),n("span",{class:"line-number"},"176"),n("br"),n("span",{class:"line-number"},"177"),n("br"),n("span",{class:"line-number"},"178"),n("br"),n("span",{class:"line-number"},"179"),n("br"),n("span",{class:"line-number"},"180"),n("br"),n("span",{class:"line-number"},"181"),n("br"),n("span",{class:"line-number"},"182"),n("br"),n("span",{class:"line-number"},"183"),n("br"),n("span",{class:"line-number"},"184"),n("br"),n("span",{class:"line-number"},"185"),n("br"),n("span",{class:"line-number"},"186"),n("br"),n("span",{class:"line-number"},"187"),n("br"),n("span",{class:"line-number"},"188"),n("br"),n("span",{class:"line-number"},"189"),n("br"),n("span",{class:"line-number"},"190"),n("br"),n("span",{class:"line-number"},"191"),n("br"),n("span",{class:"line-number"},"192"),n("br"),n("span",{class:"line-number"},"193"),n("br"),n("span",{class:"line-number"},"194"),n("br"),n("span",{class:"line-number"},"195"),n("br"),n("span",{class:"line-number"},"196"),n("br"),n("span",{class:"line-number"},"197"),n("br")])],-1),la=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token doctype"},[n("span",{class:"token punctuation"},"<!"),n("span",{class:"token doctype-tag"},"DOCTYPE"),s(),n("span",{class:"token name"},"html"),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("html")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("head")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("title")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("title")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("meta")]),s(),n("span",{class:"token attr-name"},"http-equiv"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("content-type"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"content"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("text/html;charset=utf-8"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("style")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[s(`
      `),n("span",{class:"token selector"},"p"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" left"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token property"},"padding-left"),n("span",{class:"token punctuation"},":"),s(" 20px"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("style")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("head")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("body")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(`
      `),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 800px"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 600px"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"margin"),n("span",{class:"token punctuation"},":"),s(" 30px auto"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" center")]),n("span",{class:"token punctuation"},'"')])]),s(`
    `),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("h1")]),n("span",{class:"token punctuation"},">")]),s("\u6F14\u793A\u804A\u5929\u5BA4"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("h1")]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 800px"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"border"),n("span",{class:"token punctuation"},":"),s(" 1px solid gray"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 300px")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 200px"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 300px"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"float"),n("span",{class:"token punctuation"},":"),s(" left"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" left")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("p")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("span")]),n("span",{class:"token punctuation"},">")]),s("\u5F53\u524D\u5728\u7EBF:"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("span")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("span")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("user_num"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("0"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("span")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("p")]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("user_list"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"overflow"),n("span",{class:"token punctuation"},":"),s(" auto")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(`
          `),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("msg_list"),n("span",{class:"token punctuation"},'"')]),s(`
          `),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s(`
            width: 598px;
            border: 1px solid gray;
            height: 300px;
            overflow: scroll;
            float: left;
          `),n("span",{class:"token punctuation"},'"')])]),s(`
        `),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("br")]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("textarea")]),s(`
        `),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("msg_box"),n("span",{class:"token punctuation"},'"')]),s(`
        `),n("span",{class:"token attr-name"},"rows"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("6"),n("span",{class:"token punctuation"},'"')]),s(`
        `),n("span",{class:"token attr-name"},"cols"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("50"),n("span",{class:"token punctuation"},'"')]),s(`
        `),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"onkeydown"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value javascript language-javascript"},[n("span",{class:"token function"},"confirm"),n("span",{class:"token punctuation"},"("),s("event"),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},'"')])]),s(`
      `),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("textarea")]),s(`
      `),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("br")]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("input")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("button"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("\u53D1\u9001"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"onclick"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value javascript language-javascript"},[n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},'"')])]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("input")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("button"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("\u5173\u95ED\u8FDE\u63A5"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"onclick"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value javascript language-javascript"},[n("span",{class:"token function"},"_close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},'"')])]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("input")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("button"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("\u91CD\u65B0\u8FDE\u63A5"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"onclick"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value javascript language-javascript"},[n("span",{class:"token function"},"_reconnect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},'"')])]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("body")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("html")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("text/javascript"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
  `),n("span",{class:"token doc-comment comment"},`/**
   * ws \u7684readyState
   * */`),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"CONNECTING"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"OPEN"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"CLOSING"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"CLOSED"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"3"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token doc-comment comment"},`/**
   * \u4E0A\u9501\u907F\u514D\u91CD\u8FDE
   * */`),s(`
  `),n("span",{class:"token keyword"},"let"),s(),n("span",{class:"token constant"},"LOCK"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"let"),s(),n("span",{class:"token constant"},"TIMER"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" MyURL "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"ws://127.0.0.1:8080/ws"'),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"var"),s(" uname "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"prompt"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u8BF7\u8F93\u5165\u7528\u6237\u540D"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"user"'),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token function"},"uuid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"8"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"16"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"let"),s(" ws "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"create"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(`
    `),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Promise"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("resolve"),n("span",{class:"token punctuation"},","),s(" reject")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      ws `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"WebSocket"),n("span",{class:"token punctuation"},"("),s("MyURL"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),s("ws"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"then"),n("span",{class:"token punctuation"},"("),s(`
      `),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"r"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"new promise r = "'),n("span",{class:"token punctuation"},","),s(" r"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        r`),n("span",{class:"token punctuation"},"."),s("onopen "),n("span",{class:"token operator"},"="),s(" ev"),n("span",{class:"token punctuation"},"."),s("_open"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"new promise e = "'),n("span",{class:"token punctuation"},","),s(" r"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"_reconnect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"_reconnect"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u5F00\u59CB\u91CD\u65B0\u8FDE\u63A5"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"LOCK"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u94FE\u63A5\u5DF2\u5B58\u5728"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token constant"},"LOCK"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token constant"},"TIMER"),s(),n("span",{class:"token operator"},"&&"),s(),n("span",{class:"token function"},"clearTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"TIMER"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token constant"},"TIMER"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u5F00\u59CB\u91CD\u65B0\u8FDE\u63A5"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"bindEvent"),n("span",{class:"token punctuation"},"("),s("ws"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"_close"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),n("span",{class:"token constant"},"LOCK"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F\uFF1A\u624B\u52A8\u5173\u95ED\u8FDE\u63A5\u4E0D\u5B58\u5728"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    ws `),n("span",{class:"token operator"},"&&"),s(" ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F\uFF1A\u624B\u52A8\u5173\u95ED"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" ev "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"_open"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F\uFF1A\u5EFA\u7ACB\u8FDE\u63A5\u6210\u529F"'),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token doc-comment comment"},`/**
       * \u8FDE\u63A5\u6210\u529F\uFF0C\u4E0A\u9501
       * */`),s(`
      `),n("span",{class:"token constant"},"LOCK"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"bindEvent"),n("span",{class:"token punctuation"},"("),s("ws"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

      `),n("span",{class:"token comment"},"//\u5FC3\u8DF3\u68C0\u6D4B\u91CD\u7F6E"),s(`
      heartCheck`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reset"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"_message"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      heartCheck`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reset"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token comment"},"// console.log(e);"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" msg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token constant"},"JSON"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"parse"),n("span",{class:"token punctuation"},"("),s("e"),n("span",{class:"token punctuation"},"."),s("data "),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" sender"),n("span",{class:"token punctuation"},","),s(" user_name"),n("span",{class:"token punctuation"},","),s(" name_list"),n("span",{class:"token punctuation"},","),s(" change_type"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"switch"),s(),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"system"'),n("span",{class:"token operator"},":"),s(`
          sender `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F: "'),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"user"'),n("span",{class:"token operator"},":"),s(`
          sender `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("from "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'": "'),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token keyword"},"break"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"handshake"'),n("span",{class:"token operator"},":"),s(`
          `),n("span",{class:"token keyword"},"var"),s(" user_info "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"login"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"content"),n("span",{class:"token operator"},":"),s(" uname "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token function"},"sendMsg"),n("span",{class:"token punctuation"},"("),s("user_info"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"login"'),n("span",{class:"token operator"},":"),s(`
        `),n("span",{class:"token keyword"},"case"),s(),n("span",{class:"token string"},'"logout"'),n("span",{class:"token operator"},":"),s(`
          user_name `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("content"),n("span",{class:"token punctuation"},";"),s(`
          name_list `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("user_list"),n("span",{class:"token punctuation"},";"),s(`
          change_type `),n("span",{class:"token operator"},"="),s(" msg"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token function"},"dealUser"),n("span",{class:"token punctuation"},"("),s("user_name"),n("span",{class:"token punctuation"},","),s(" change_type"),n("span",{class:"token punctuation"},","),s(" name_list"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"default"),n("span",{class:"token operator"},":"),s(`
          console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),s("e"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(" sender "),n("span",{class:"token operator"},"+"),s(" msg"),n("span",{class:"token punctuation"},"."),s("content"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"_error"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F : \u51FA\u9519\u4E86,\u8BF7\u9000\u51FA\u91CD\u8BD5."'),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token constant"},"LOCK"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"_reconnect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"_close"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"e"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u8FDE\u63A5\u5DF2\u65AD\u5F00"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u8FDE\u63A5\u65AD\u5F00==>"'),n("span",{class:"token punctuation"},","),s(" e"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token constant"},"LOCK"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";"),s(`
      heartCheck`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"reset"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"bindEvent"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"ws"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("ws "),n("span",{class:"token keyword"},"instanceof"),s(),n("span",{class:"token class-name"},"WebSocket"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u4E0D\u662Fws"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F\uFF1A\u7ED1\u5B9A\u4E8B\u4EF6"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token doc-comment comment"},`/**
     * \u76D1\u542C\u6D88\u606F
     * */`),s(`
    ws`),n("span",{class:"token punctuation"},"."),s("onmessage "),n("span",{class:"token operator"},"="),s(" ev"),n("span",{class:"token punctuation"},"."),s("_message"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token doc-comment comment"},`/**
     * \u76D1\u542C\u8FDE\u63A5\u5F02\u5E38
     * */`),s(`
    ws`),n("span",{class:"token punctuation"},"."),s("onerror "),n("span",{class:"token operator"},"="),s(" ev"),n("span",{class:"token punctuation"},"."),s("_error"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token doc-comment comment"},`/**
     * \u68C0\u6D4B\u8FDE\u63A5\u5173\u95ED
     * */`),s(`
    ws`),n("span",{class:"token punctuation"},"."),s("onclose "),n("span",{class:"token operator"},"="),s(" ev"),n("span",{class:"token punctuation"},"."),s("_close"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token doc-comment comment"},`/**
   * \u5FC3\u8DF3\u68C0\u6D4B
   * */`),s(`
  `),n("span",{class:"token keyword"},"const"),s(" heartCheck "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"timeout"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"5000"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"timeoutObj"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"serverTimeoutObj"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"reset"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"reset-------"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"clearTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("timeoutObj"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token function"},"clearTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("serverTimeoutObj"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function-variable function"},"start"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" self "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("timeoutObj "),n("span",{class:"token operator"},"&&"),s(),n("span",{class:"token function"},"clearTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("timeoutObj"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("serverTimeoutObj "),n("span",{class:"token operator"},"&&"),s(),n("span",{class:"token function"},"clearTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("serverTimeoutObj"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("timeoutObj "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"//\u8FD9\u91CC\u53D1\u9001\u4E00\u4E2A\u5FC3\u8DF3\uFF0C\u540E\u7AEF\u6536\u5230\u540E\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u5FC3\u8DF3\u6D88\u606F\uFF0C"),s(`
        `),n("span",{class:"token comment"},"//onmessage\u62FF\u5230\u8FD4\u56DE\u7684\u5FC3\u8DF3\u5C31\u8BF4\u660E\u8FDE\u63A5\u6B63\u5E38"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ws"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"var"),s(" msg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"content"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"heartbeat"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"heartbeat"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token function"},"sendMsg"),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"ping"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" readyState "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(" ws"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("readyState "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token constant"},"CONNECTING"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
              console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"connection is connecting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("readyState "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token constant"},"OPEN"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
              console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"connection is open"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("readyState "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token constant"},"CLOSING"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
              console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"connection is closing"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("readyState "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token constant"},"CLOSED"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
              self`),n("span",{class:"token punctuation"},"."),s("serverTimeoutObj "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"setTimeout"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token comment"},"// \u5982\u679C\u8D85\u8FC7\u4E00\u5B9A\u65F6\u95F4\u8FD8\u6CA1\u91CD\u7F6E\uFF0C\u8BF4\u660E\u540E\u7AEF\u4E3B\u52A8\u65AD\u5F00\u4E86"),s(`
                console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u5173\u95ED\u670D\u52A1"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token function"},"_reconnect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
              `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(" self"),n("span",{class:"token punctuation"},"."),s("timeout"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
          `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"catch"),s(),n("span",{class:"token punctuation"},"("),s("error"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u5FC3\u8DF3\u68C0\u6D4B\u5F02\u5E38=>"'),n("span",{class:"token punctuation"},","),s(" e"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            ws `),n("span",{class:"token operator"},"&&"),s(" ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("timeout"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"confirm"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"event"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" key_num "),n("span",{class:"token operator"},"="),s(" event"),n("span",{class:"token punctuation"},"."),s("keyCode"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"13"),s(),n("span",{class:"token operator"},"=="),s(" key_num"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" msg_box "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"msg_box"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" content "),n("span",{class:"token operator"},"="),s(" msg_box"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" reg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"RegExp"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\\r\\n"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"g"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    content `),n("span",{class:"token operator"},"="),s(" content"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"replace"),n("span",{class:"token punctuation"},"("),s("reg"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" msg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"content"),n("span",{class:"token operator"},":"),s(" content"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"trim"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"user"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token function"},"sendMsg"),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    msg_box`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"data"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" msg_list "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"msg_list"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" msg "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createElement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"p"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    msg`),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(" data"),n("span",{class:"token punctuation"},";"),s(`
    msg_list`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"appendChild"),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    msg_list`),n("span",{class:"token punctuation"},"."),s("scrollTop "),n("span",{class:"token operator"},"="),s(" msg_list"),n("span",{class:"token punctuation"},"."),s("scrollHeight"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"dealUser"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("user_name"),n("span",{class:"token punctuation"},","),s(" type"),n("span",{class:"token punctuation"},","),s(" name_list")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" user_list "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"user_list"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" user_num "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getElementById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"user_num"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasChildNodes"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      user_list`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"removeChild"),n("span",{class:"token punctuation"},"("),s("user_list"),n("span",{class:"token punctuation"},"."),s("firstChild"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"var"),s(" index "),n("span",{class:"token keyword"},"in"),s(" name_list"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" user "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createElement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"p"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      user`),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(" name_list"),n("span",{class:"token punctuation"},"["),s("index"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
      user_list`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"appendChild"),n("span",{class:"token punctuation"},"("),s("user"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    user_num`),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(" name_list"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},";"),s(`
    user_list`),n("span",{class:"token punctuation"},"."),s("scrollTop "),n("span",{class:"token operator"},"="),s(" user_list"),n("span",{class:"token punctuation"},"."),s("scrollHeight"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" change "),n("span",{class:"token operator"},"="),s(" type "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},'"login"'),s(),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token string"},'"\u4E0A\u7EBF"'),s(),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"\u4E0B\u7EBF"'),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"\u7CFB\u7EDF\u6D88\u606F: "'),s(),n("span",{class:"token operator"},"+"),s(" user_name "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'" \u5DF2"'),s(),n("span",{class:"token operator"},"+"),s(" change"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token function"},"listMsg"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"sendMsg"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"msg"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"msg=>"'),n("span",{class:"token punctuation"},","),s(" msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token constant"},"JSON"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stringify"),n("span",{class:"token punctuation"},"("),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"// console.log(ws)"),s(`
    ws `),n("span",{class:"token operator"},"&&"),s(" ws"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token doc-comment comment"},`/**
   * \u83B7\u53D6\u968F\u673Auuid
   * */`),s(`
  `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"uuid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("len"),n("span",{class:"token punctuation"},","),s(" radix")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" chars "),n("span",{class:"token operator"},"="),s(`
      `),n("span",{class:"token string"},'"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"'),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"split"),n("span",{class:"token punctuation"},"("),s(`
        `),n("span",{class:"token string"},'""'),s(`
      `),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"var"),s(" uuid "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
      i`),n("span",{class:"token punctuation"},";"),s(`
    radix `),n("span",{class:"token operator"},"="),s(" radix "),n("span",{class:"token operator"},"||"),s(" chars"),n("span",{class:"token punctuation"},"."),s("length"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("len"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),s("i "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(" i "),n("span",{class:"token operator"},"<"),s(" len"),n("span",{class:"token punctuation"},";"),s(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),s(" uuid"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" chars"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token punctuation"},"("),s("Math"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"random"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"*"),s(" radix"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token keyword"},"var"),s(" r"),n("span",{class:"token punctuation"},";"),s(`
      uuid`),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"8"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" uuid"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"13"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" uuid"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"18"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" uuid"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"23"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"-"'),n("span",{class:"token punctuation"},";"),s(`
      uuid`),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"14"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"4"'),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),s("i "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(" i "),n("span",{class:"token operator"},"<"),s(),n("span",{class:"token number"},"36"),n("span",{class:"token punctuation"},";"),s(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("uuid"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
          r `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token punctuation"},"("),s("Math"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"random"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token number"},"16"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
          uuid`),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" chars"),n("span",{class:"token punctuation"},"["),s("i "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"19"),s(),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token punctuation"},"("),s("r "),n("span",{class:"token operator"},"&"),s(),n("span",{class:"token number"},"0x3"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"|"),s(),n("span",{class:"token number"},"0x8"),s(),n("span",{class:"token operator"},":"),s(" r"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"return"),s(" uuid"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token function"},"create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`


`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br"),n("span",{class:"line-number"},"2"),n("br"),n("span",{class:"line-number"},"3"),n("br"),n("span",{class:"line-number"},"4"),n("br"),n("span",{class:"line-number"},"5"),n("br"),n("span",{class:"line-number"},"6"),n("br"),n("span",{class:"line-number"},"7"),n("br"),n("span",{class:"line-number"},"8"),n("br"),n("span",{class:"line-number"},"9"),n("br"),n("span",{class:"line-number"},"10"),n("br"),n("span",{class:"line-number"},"11"),n("br"),n("span",{class:"line-number"},"12"),n("br"),n("span",{class:"line-number"},"13"),n("br"),n("span",{class:"line-number"},"14"),n("br"),n("span",{class:"line-number"},"15"),n("br"),n("span",{class:"line-number"},"16"),n("br"),n("span",{class:"line-number"},"17"),n("br"),n("span",{class:"line-number"},"18"),n("br"),n("span",{class:"line-number"},"19"),n("br"),n("span",{class:"line-number"},"20"),n("br"),n("span",{class:"line-number"},"21"),n("br"),n("span",{class:"line-number"},"22"),n("br"),n("span",{class:"line-number"},"23"),n("br"),n("span",{class:"line-number"},"24"),n("br"),n("span",{class:"line-number"},"25"),n("br"),n("span",{class:"line-number"},"26"),n("br"),n("span",{class:"line-number"},"27"),n("br"),n("span",{class:"line-number"},"28"),n("br"),n("span",{class:"line-number"},"29"),n("br"),n("span",{class:"line-number"},"30"),n("br"),n("span",{class:"line-number"},"31"),n("br"),n("span",{class:"line-number"},"32"),n("br"),n("span",{class:"line-number"},"33"),n("br"),n("span",{class:"line-number"},"34"),n("br"),n("span",{class:"line-number"},"35"),n("br"),n("span",{class:"line-number"},"36"),n("br"),n("span",{class:"line-number"},"37"),n("br"),n("span",{class:"line-number"},"38"),n("br"),n("span",{class:"line-number"},"39"),n("br"),n("span",{class:"line-number"},"40"),n("br"),n("span",{class:"line-number"},"41"),n("br"),n("span",{class:"line-number"},"42"),n("br"),n("span",{class:"line-number"},"43"),n("br"),n("span",{class:"line-number"},"44"),n("br"),n("span",{class:"line-number"},"45"),n("br"),n("span",{class:"line-number"},"46"),n("br"),n("span",{class:"line-number"},"47"),n("br"),n("span",{class:"line-number"},"48"),n("br"),n("span",{class:"line-number"},"49"),n("br"),n("span",{class:"line-number"},"50"),n("br"),n("span",{class:"line-number"},"51"),n("br"),n("span",{class:"line-number"},"52"),n("br"),n("span",{class:"line-number"},"53"),n("br"),n("span",{class:"line-number"},"54"),n("br"),n("span",{class:"line-number"},"55"),n("br"),n("span",{class:"line-number"},"56"),n("br"),n("span",{class:"line-number"},"57"),n("br"),n("span",{class:"line-number"},"58"),n("br"),n("span",{class:"line-number"},"59"),n("br"),n("span",{class:"line-number"},"60"),n("br"),n("span",{class:"line-number"},"61"),n("br"),n("span",{class:"line-number"},"62"),n("br"),n("span",{class:"line-number"},"63"),n("br"),n("span",{class:"line-number"},"64"),n("br"),n("span",{class:"line-number"},"65"),n("br"),n("span",{class:"line-number"},"66"),n("br"),n("span",{class:"line-number"},"67"),n("br"),n("span",{class:"line-number"},"68"),n("br"),n("span",{class:"line-number"},"69"),n("br"),n("span",{class:"line-number"},"70"),n("br"),n("span",{class:"line-number"},"71"),n("br"),n("span",{class:"line-number"},"72"),n("br"),n("span",{class:"line-number"},"73"),n("br"),n("span",{class:"line-number"},"74"),n("br"),n("span",{class:"line-number"},"75"),n("br"),n("span",{class:"line-number"},"76"),n("br"),n("span",{class:"line-number"},"77"),n("br"),n("span",{class:"line-number"},"78"),n("br"),n("span",{class:"line-number"},"79"),n("br"),n("span",{class:"line-number"},"80"),n("br"),n("span",{class:"line-number"},"81"),n("br"),n("span",{class:"line-number"},"82"),n("br"),n("span",{class:"line-number"},"83"),n("br"),n("span",{class:"line-number"},"84"),n("br"),n("span",{class:"line-number"},"85"),n("br"),n("span",{class:"line-number"},"86"),n("br"),n("span",{class:"line-number"},"87"),n("br"),n("span",{class:"line-number"},"88"),n("br"),n("span",{class:"line-number"},"89"),n("br"),n("span",{class:"line-number"},"90"),n("br"),n("span",{class:"line-number"},"91"),n("br"),n("span",{class:"line-number"},"92"),n("br"),n("span",{class:"line-number"},"93"),n("br"),n("span",{class:"line-number"},"94"),n("br"),n("span",{class:"line-number"},"95"),n("br"),n("span",{class:"line-number"},"96"),n("br"),n("span",{class:"line-number"},"97"),n("br"),n("span",{class:"line-number"},"98"),n("br"),n("span",{class:"line-number"},"99"),n("br"),n("span",{class:"line-number"},"100"),n("br"),n("span",{class:"line-number"},"101"),n("br"),n("span",{class:"line-number"},"102"),n("br"),n("span",{class:"line-number"},"103"),n("br"),n("span",{class:"line-number"},"104"),n("br"),n("span",{class:"line-number"},"105"),n("br"),n("span",{class:"line-number"},"106"),n("br"),n("span",{class:"line-number"},"107"),n("br"),n("span",{class:"line-number"},"108"),n("br"),n("span",{class:"line-number"},"109"),n("br"),n("span",{class:"line-number"},"110"),n("br"),n("span",{class:"line-number"},"111"),n("br"),n("span",{class:"line-number"},"112"),n("br"),n("span",{class:"line-number"},"113"),n("br"),n("span",{class:"line-number"},"114"),n("br"),n("span",{class:"line-number"},"115"),n("br"),n("span",{class:"line-number"},"116"),n("br"),n("span",{class:"line-number"},"117"),n("br"),n("span",{class:"line-number"},"118"),n("br"),n("span",{class:"line-number"},"119"),n("br"),n("span",{class:"line-number"},"120"),n("br"),n("span",{class:"line-number"},"121"),n("br"),n("span",{class:"line-number"},"122"),n("br"),n("span",{class:"line-number"},"123"),n("br"),n("span",{class:"line-number"},"124"),n("br"),n("span",{class:"line-number"},"125"),n("br"),n("span",{class:"line-number"},"126"),n("br"),n("span",{class:"line-number"},"127"),n("br"),n("span",{class:"line-number"},"128"),n("br"),n("span",{class:"line-number"},"129"),n("br"),n("span",{class:"line-number"},"130"),n("br"),n("span",{class:"line-number"},"131"),n("br"),n("span",{class:"line-number"},"132"),n("br"),n("span",{class:"line-number"},"133"),n("br"),n("span",{class:"line-number"},"134"),n("br"),n("span",{class:"line-number"},"135"),n("br"),n("span",{class:"line-number"},"136"),n("br"),n("span",{class:"line-number"},"137"),n("br"),n("span",{class:"line-number"},"138"),n("br"),n("span",{class:"line-number"},"139"),n("br"),n("span",{class:"line-number"},"140"),n("br"),n("span",{class:"line-number"},"141"),n("br"),n("span",{class:"line-number"},"142"),n("br"),n("span",{class:"line-number"},"143"),n("br"),n("span",{class:"line-number"},"144"),n("br"),n("span",{class:"line-number"},"145"),n("br"),n("span",{class:"line-number"},"146"),n("br"),n("span",{class:"line-number"},"147"),n("br"),n("span",{class:"line-number"},"148"),n("br"),n("span",{class:"line-number"},"149"),n("br"),n("span",{class:"line-number"},"150"),n("br"),n("span",{class:"line-number"},"151"),n("br"),n("span",{class:"line-number"},"152"),n("br"),n("span",{class:"line-number"},"153"),n("br"),n("span",{class:"line-number"},"154"),n("br"),n("span",{class:"line-number"},"155"),n("br"),n("span",{class:"line-number"},"156"),n("br"),n("span",{class:"line-number"},"157"),n("br"),n("span",{class:"line-number"},"158"),n("br"),n("span",{class:"line-number"},"159"),n("br"),n("span",{class:"line-number"},"160"),n("br"),n("span",{class:"line-number"},"161"),n("br"),n("span",{class:"line-number"},"162"),n("br"),n("span",{class:"line-number"},"163"),n("br"),n("span",{class:"line-number"},"164"),n("br"),n("span",{class:"line-number"},"165"),n("br"),n("span",{class:"line-number"},"166"),n("br"),n("span",{class:"line-number"},"167"),n("br"),n("span",{class:"line-number"},"168"),n("br"),n("span",{class:"line-number"},"169"),n("br"),n("span",{class:"line-number"},"170"),n("br"),n("span",{class:"line-number"},"171"),n("br"),n("span",{class:"line-number"},"172"),n("br"),n("span",{class:"line-number"},"173"),n("br"),n("span",{class:"line-number"},"174"),n("br"),n("span",{class:"line-number"},"175"),n("br"),n("span",{class:"line-number"},"176"),n("br"),n("span",{class:"line-number"},"177"),n("br"),n("span",{class:"line-number"},"178"),n("br"),n("span",{class:"line-number"},"179"),n("br"),n("span",{class:"line-number"},"180"),n("br"),n("span",{class:"line-number"},"181"),n("br"),n("span",{class:"line-number"},"182"),n("br"),n("span",{class:"line-number"},"183"),n("br"),n("span",{class:"line-number"},"184"),n("br"),n("span",{class:"line-number"},"185"),n("br"),n("span",{class:"line-number"},"186"),n("br"),n("span",{class:"line-number"},"187"),n("br"),n("span",{class:"line-number"},"188"),n("br"),n("span",{class:"line-number"},"189"),n("br"),n("span",{class:"line-number"},"190"),n("br"),n("span",{class:"line-number"},"191"),n("br"),n("span",{class:"line-number"},"192"),n("br"),n("span",{class:"line-number"},"193"),n("br"),n("span",{class:"line-number"},"194"),n("br"),n("span",{class:"line-number"},"195"),n("br"),n("span",{class:"line-number"},"196"),n("br"),n("span",{class:"line-number"},"197"),n("br"),n("span",{class:"line-number"},"198"),n("br"),n("span",{class:"line-number"},"199"),n("br"),n("span",{class:"line-number"},"200"),n("br"),n("span",{class:"line-number"},"201"),n("br"),n("span",{class:"line-number"},"202"),n("br"),n("span",{class:"line-number"},"203"),n("br"),n("span",{class:"line-number"},"204"),n("br"),n("span",{class:"line-number"},"205"),n("br"),n("span",{class:"line-number"},"206"),n("br"),n("span",{class:"line-number"},"207"),n("br"),n("span",{class:"line-number"},"208"),n("br"),n("span",{class:"line-number"},"209"),n("br"),n("span",{class:"line-number"},"210"),n("br"),n("span",{class:"line-number"},"211"),n("br"),n("span",{class:"line-number"},"212"),n("br"),n("span",{class:"line-number"},"213"),n("br"),n("span",{class:"line-number"},"214"),n("br"),n("span",{class:"line-number"},"215"),n("br"),n("span",{class:"line-number"},"216"),n("br"),n("span",{class:"line-number"},"217"),n("br"),n("span",{class:"line-number"},"218"),n("br"),n("span",{class:"line-number"},"219"),n("br"),n("span",{class:"line-number"},"220"),n("br"),n("span",{class:"line-number"},"221"),n("br"),n("span",{class:"line-number"},"222"),n("br"),n("span",{class:"line-number"},"223"),n("br"),n("span",{class:"line-number"},"224"),n("br"),n("span",{class:"line-number"},"225"),n("br"),n("span",{class:"line-number"},"226"),n("br"),n("span",{class:"line-number"},"227"),n("br"),n("span",{class:"line-number"},"228"),n("br"),n("span",{class:"line-number"},"229"),n("br"),n("span",{class:"line-number"},"230"),n("br"),n("span",{class:"line-number"},"231"),n("br"),n("span",{class:"line-number"},"232"),n("br"),n("span",{class:"line-number"},"233"),n("br"),n("span",{class:"line-number"},"234"),n("br"),n("span",{class:"line-number"},"235"),n("br"),n("span",{class:"line-number"},"236"),n("br"),n("span",{class:"line-number"},"237"),n("br"),n("span",{class:"line-number"},"238"),n("br"),n("span",{class:"line-number"},"239"),n("br"),n("span",{class:"line-number"},"240"),n("br"),n("span",{class:"line-number"},"241"),n("br"),n("span",{class:"line-number"},"242"),n("br"),n("span",{class:"line-number"},"243"),n("br"),n("span",{class:"line-number"},"244"),n("br"),n("span",{class:"line-number"},"245"),n("br"),n("span",{class:"line-number"},"246"),n("br"),n("span",{class:"line-number"},"247"),n("br"),n("span",{class:"line-number"},"248"),n("br"),n("span",{class:"line-number"},"249"),n("br"),n("span",{class:"line-number"},"250"),n("br"),n("span",{class:"line-number"},"251"),n("br"),n("span",{class:"line-number"},"252"),n("br"),n("span",{class:"line-number"},"253"),n("br"),n("span",{class:"line-number"},"254"),n("br"),n("span",{class:"line-number"},"255"),n("br"),n("span",{class:"line-number"},"256"),n("br"),n("span",{class:"line-number"},"257"),n("br"),n("span",{class:"line-number"},"258"),n("br"),n("span",{class:"line-number"},"259"),n("br"),n("span",{class:"line-number"},"260"),n("br"),n("span",{class:"line-number"},"261"),n("br"),n("span",{class:"line-number"},"262"),n("br"),n("span",{class:"line-number"},"263"),n("br"),n("span",{class:"line-number"},"264"),n("br"),n("span",{class:"line-number"},"265"),n("br"),n("span",{class:"line-number"},"266"),n("br"),n("span",{class:"line-number"},"267"),n("br"),n("span",{class:"line-number"},"268"),n("br"),n("span",{class:"line-number"},"269"),n("br"),n("span",{class:"line-number"},"270"),n("br"),n("span",{class:"line-number"},"271"),n("br"),n("span",{class:"line-number"},"272"),n("br"),n("span",{class:"line-number"},"273"),n("br"),n("span",{class:"line-number"},"274"),n("br"),n("span",{class:"line-number"},"275"),n("br"),n("span",{class:"line-number"},"276"),n("br"),n("span",{class:"line-number"},"277"),n("br"),n("span",{class:"line-number"},"278"),n("br"),n("span",{class:"line-number"},"279"),n("br"),n("span",{class:"line-number"},"280"),n("br"),n("span",{class:"line-number"},"281"),n("br"),n("span",{class:"line-number"},"282"),n("br"),n("span",{class:"line-number"},"283"),n("br"),n("span",{class:"line-number"},"284"),n("br"),n("span",{class:"line-number"},"285"),n("br"),n("span",{class:"line-number"},"286"),n("br"),n("span",{class:"line-number"},"287"),n("br"),n("span",{class:"line-number"},"288"),n("br"),n("span",{class:"line-number"},"289"),n("br"),n("span",{class:"line-number"},"290"),n("br"),n("span",{class:"line-number"},"291"),n("br"),n("span",{class:"line-number"},"292"),n("br"),n("span",{class:"line-number"},"293"),n("br"),n("span",{class:"line-number"},"294"),n("br"),n("span",{class:"line-number"},"295"),n("br"),n("span",{class:"line-number"},"296"),n("br"),n("span",{class:"line-number"},"297"),n("br"),n("span",{class:"line-number"},"298"),n("br"),n("span",{class:"line-number"},"299"),n("br"),n("span",{class:"line-number"},"300"),n("br"),n("span",{class:"line-number"},"301"),n("br"),n("span",{class:"line-number"},"302"),n("br"),n("span",{class:"line-number"},"303"),n("br"),n("span",{class:"line-number"},"304"),n("br"),n("span",{class:"line-number"},"305"),n("br"),n("span",{class:"line-number"},"306"),n("br")])],-1),ua=c('<h2 id="\u5173\u4E8Ewebsocket\u7684\u4E00\u4E9B\u7591\u95EE" tabindex="-1"><a class="header-anchor" href="#\u5173\u4E8Ewebsocket\u7684\u4E00\u4E9B\u7591\u95EE" aria-hidden="true">#</a> \u5173\u4E8Ewebsocket\u7684\u4E00\u4E9B\u7591\u95EE</h2><p>\u6709\u7591\u95EE\u624D\u80FD\u5B66\u5F97\u66F4\u597D\u54E6</p><h3 id="_1-\u5982\u4F55\u4FDD\u8BC1webscket\u7684\u9AD8\u53EF\u7528" tabindex="-1"><a class="header-anchor" href="#_1-\u5982\u4F55\u4FDD\u8BC1webscket\u7684\u9AD8\u53EF\u7528" aria-hidden="true">#</a> 1. \u5982\u4F55\u4FDD\u8BC1webscket\u7684\u9AD8\u53EF\u7528</h3><h3 id="_2-\u600E\u4E48\u5224\u65AD\u67D0\u4E2A\u8FDE\u63A5\u662F\u5426\u6709\u6548" tabindex="-1"><a class="header-anchor" href="#_2-\u600E\u4E48\u5224\u65AD\u67D0\u4E2A\u8FDE\u63A5\u662F\u5426\u6709\u6548" aria-hidden="true">#</a> 2. \u600E\u4E48\u5224\u65AD\u67D0\u4E2A\u8FDE\u63A5\u662F\u5426\u6709\u6548</h3><blockquote></blockquote><h3 id="_3-\u5982\u4F55\u53CA\u65F6\u5173\u95ED\u65E0\u6548\u8FDE\u63A5" tabindex="-1"><a class="header-anchor" href="#_3-\u5982\u4F55\u53CA\u65F6\u5173\u95ED\u65E0\u6548\u8FDE\u63A5" aria-hidden="true">#</a> 3. \u5982\u4F55\u53CA\u65F6\u5173\u95ED\u65E0\u6548\u8FDE\u63A5</h3><blockquote><p>\u65E0\u6548\u8FDE\u63A5\u7684\u5B9A\u4E49\uFF1A</p><ul><li>\u957F\u65F6\u95F4\u6CA1\u6709\u6570\u636E\u4EA4\u6D41</li><li>\u4E0D\u53EF\u8FBE</li></ul></blockquote><h2 id="\u6269\u5C55" tabindex="-1"><a class="header-anchor" href="#\u6269\u5C55" aria-hidden="true">#</a> \u6269\u5C55</h2><h3 id="\u62C9\u6A21\u5F0F\u4E0E\u63A8\u6A21\u5F0F\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#\u62C9\u6A21\u5F0F\u4E0E\u63A8\u6A21\u5F0F\u7684\u533A\u522B" aria-hidden="true">#</a> \u62C9\u6A21\u5F0F\u4E0E\u63A8\u6A21\u5F0F\u7684\u533A\u522B</h3><ul><li><p>\u62C9\u6A21\u5F0F\uFF08\u5B9A\u65F6\u8F6E\u8BE2\u8BBF\u95EE\u63A5\u53E3\u83B7\u53D6\u6570\u636E\uFF09</p><ol><li><p>\u6570\u636E\u66F4\u65B0\u9891\u7387\u4F4E\uFF0C\u5219\u5927\u591A\u6570\u7684\u6570\u636E\u8BF7\u6C42\u65F6\u65E0\u6548\u7684</p></li><li><p>\u5728\u7EBF\u7528\u6237\u6570\u91CF\u591A\uFF0C\u5219\u670D\u52A1\u7AEF\u7684\u67E5\u8BE2\u8D1F\u8F7D\u5F88\u9AD8</p></li><li><p>\u5B9A\u65F6\u8F6E\u8BE2\u62C9\u53D6\uFF0C\u65E0\u6CD5\u6EE1\u8DB3\u65F6\u6548\u6027\u8981\u6C42</p></li></ol></li><li><p>\u63A8\u6A21\u5F0F\uFF08\u5411\u5BA2\u6237\u7AEF\u8FDB\u884C\u6570\u636E\u7684\u63A8\u9001\uFF09</p><ol><li><p>\u4EC5\u5728\u6570\u636E\u66F4\u65B0\u65F6\uFF0C\u624D\u6709\u63A8\u9001</p></li><li><p>\u9700\u8981\u7EF4\u62A4\u5927\u91CF\u7684\u5728\u7EBF\u957F\u8FDE\u63A5</p></li><li><p>\u6570\u636E\u66F4\u65B0\u540E\uFF0C\u53EF\u4EE5\u7ACB\u5373\u63A8\u9001</p></li></ol></li></ul>',10);function ia(ra,ka){const t=p("ExternalLinkIcon"),o=p("CodeGroupItem"),l=p("CodeGroup");return i(),r(k,null,[h,n("div",_,[w,n("ul",null,[n("li",null,[n("p",null,[n("a",y,[f,a(t)])])]),n("li",null,[n("p",null,[n("a",v,[E,a(t)])])]),n("li",null,[n("p",null,[n("a",x,[T,a(t)])])]),n("li",null,[n("p",null,[n("a",C,[S,a(t)])])])])]),B,A,M,n("details",j,[n("p",null,[q,n("a",W,[P,a(t)]),H,n("a",U,[L,a(t)]),O,n("a",z,[I,a(t)]),R]),n("p",null,[F,n("a",N,[D,a(t)]),G,n("a",K,[V,a(t)]),J]),n("p",null,[Y,n("a",Z,[Q,a(t)]),X]),n("p",null,[$,nn,sn,an,tn,n("a",en,[on,a(t)]),cn,pn,ln,n("a",un,[rn,a(t)]),kn]),bn,n("p",null,[mn,n("a",dn,[gn,a(t)]),hn,n("a",_n,[wn,a(t)]),yn])]),fn,n("details",vn,[n("ul",null,[n("li",null,[n("p",null,[En,n("a",xn,[Tn,a(t)]),Cn,n("a",Sn,[Bn,a(t)]),An])]),n("li",null,[n("p",null,[Mn,n("a",jn,[qn,a(t)]),Wn])]),Pn,n("li",null,[n("p",null,[Hn,n("a",Un,[Ln,a(t)]),On])]),n("li",null,[n("p",null,[zn,n("a",In,[Rn,a(t)]),Fn])]),n("li",null,[n("p",null,[Nn,n("a",Dn,[Gn,a(t)]),Kn,n("a",Vn,[Jn,a(t)]),Yn,n("a",Zn,[Qn,a(t)])])])])]),Xn,$n,n("p",null,[ns,n("a",ss,[as,a(t)]),ts,n("a",es,[os,a(t)]),cs]),n("p",null,[ps,n("a",ls,[us,a(t)]),is]),n("p",null,[rs,n("a",ks,[bs,a(t)]),ms]),n("details",ds,[gs,n("ul",null,[hs,_s,n("li",null,[ws,ys,fs,vs,Es,xs,n("a",Ts,[Cs,a(t)]),Ss,n("a",Bs,[As,a(t)]),Ms,js,qs]),Ws,n("li",null,[Ps,Hs,Us,Ls,Os,zs,n("a",Is,[Rs,a(t)])]),n("li",null,[Fs,n("a",Ns,[Ds,a(t)]),Gs])])]),Ks,Vs,Js,n("details",Ys,[a(l,null,{default:e(()=>[a(o,{title:"server.go",active:""},{default:e(()=>[Zs]),_:1}),a(o,{title:"client.html"},{default:e(()=>[Qs]),_:1})]),_:1}),Xs,$s,na]),sa,aa,ta,ea,oa,n("details",ca,[a(l,null,{default:e(()=>[a(o,{title:"server.go",active:""},{default:e(()=>[pa]),_:1}),a(o,{title:"client.html"},{default:e(()=>[la]),_:1})]),_:1})]),ua],64)}var ma=u(g,[["render",ia],["__file","websocket.html.vue"]]);export{ma as default};
